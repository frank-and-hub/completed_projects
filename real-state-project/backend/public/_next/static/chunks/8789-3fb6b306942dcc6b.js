(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8789,9522],{31895:function(e,t,n){"use strict";n.d(t,{g:function(){return i},z:function(){return o}});var r=n(81296);let i=e=>(0,r.g_)("forgot-password",{...e}),o=e=>(0,r.g_)("set-password",{...e})},47289:function(e,t,n){"use strict";n.d(t,{Pd:function(){return i},tt:function(){return o},x3:function(){return a}});var r=n(81296);let i=e=>{let{data:t}=e;return(0,r.g_)("privatelandlord-signup",t,{headers:{"Content-Type":"multipart/form-data"}})},o=e=>(0,r.g_)("privatelandlord-verify",e),a=e=>(0,r.g_)("privatelandlord-resend-otp",e)},22443:function(e,t,n){"use strict";n.d(t,{ni:function(){return o},u5:function(){return s},u9:function(){return a},x4:function(){return i},zA:function(){return l}});var r=n(81296);let i=e=>(0,r.g_)("login",{...e}),o=()=>(0,r.g_)("logout"),a=e=>(0,r.g_)("social-login",e),l=e=>(0,r.g_)("face-detect/create-session",e),s=e=>(0,r.g_)("face-detect/check-valid-session",e)},40073:function(e,t,n){"use strict";n.d(t,{Ai:function(){return i},C$:function(){return l},DM:function(){return s},ck:function(){return o},e:function(){return a}});var r=n(81296);let i=()=>(0,r.vw)("profile"),o=e=>{let{data:t}=e;return(0,r.g_)("profile-update",t,{headers:{"Content-Type":"multipart/form-data"}})},a=e=>{let{data:t}=e;return(0,r.g_)("profile-verify",t,{headers:{"Content-Type":"multipart/form-data"}})},l=e=>(0,r.g_)("change-password",{...e}),s=e=>(0,r.vw)("invite/thank_you/".concat(e))},27522:function(e,t,n){"use strict";n.d(t,{M:function(){return o},z:function(){return i}});var r=n(81296);let i=e=>(0,r.g_)("register",{...e}),o=e=>(0,r.g_)("otp-verify",{...e})},73768:function(e,t,n){"use strict";n.d(t,{h:function(){return i},s:function(){return o}});var r=n(81296);let i=e=>(0,r.g_)("resend-otp",{...e}),o=e=>(0,r.g_)("profile-resend-otp",e)},88149:function(e,t,n){"use strict";n.d(t,{AK:function(){return a},Bq:function(){return c},IP:function(){return o},Qj:function(){return m},Ur:function(){return u},af:function(){return l},bm:function(){return s},sw:function(){return v},u:function(){return h},v2:function(){return i},v9:function(){return d},vz:function(){return p}});var r=n(81296);let i=e=>(0,r.J$)("property-details/".concat(e)),o=e=>{let{id:t}=e;return(0,r.J$)("internal-property-details/".concat(t))},a=e=>{let{id:t}=e;return(0,r.J$)("calendar-details/".concat(t))},l=e=>(0,r.g_)("set-message-schedule-time",e),s=e=>(0,r.g_)("sent-client-mail",e),u=e=>(0,r.g_)("advanced-filter",e),d=e=>{let{page:t=1,search:n}=e;return(0,r.J$)("countries",{params:{page:t,search:n}})},c=e=>{let{countryId:t,page:n,search:i}=e;return(0,r.J$)("states/".concat(t),{params:{page:n,search:i}})},p=e=>{let{provinceId:t,page:n,search:i}=e;return(0,r.J$)("cities/".concat(t),{params:{page:n,search:i}})},m=e=>{let{page:t,search:n,cityId:i}=e;return(0,r.J$)("suburbs/".concat(i),{params:{page:t,search:n}})},h=()=>(0,r.J$)("columns"),v=()=>(0,r.vw)("top-city-rent-count").then(e=>{let t={};return(null==e?void 0:e.length)&&(null==e||e.map(e=>{t={...t,[g(null==e?void 0:e.town)]:null==e?void 0:e.total}})),t}),g=e=>e?e.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,""):""},81296:function(e,t,n){"use strict";n.d(t,{vw:function(){return u},J$:function(){return d},g_:function(){return c},tn:function(){return p}});var r=n(83464),i=n(41607),o=n(76772);let a=async e=>{if(r.Z.isCancel(e))throw console.warn("Request canceled:",e.message),e;if(e.response){var t,n,a;(null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.status)===401?((0,o.t6)({title:"Session Expired!",message:"Your login session has expired. Please login again to continue.",type:"error"}),i.h.dispatch({type:"LOGOUT"})):404===e.response.status?(0,o.t6)({title:"Error",message:"Resource not found.",type:"error"}):(0,o.t6)({title:"Error",message:null==e?void 0:null===(a=e.response)||void 0===a?void 0:null===(n=a.data)||void 0===n?void 0:n.message,type:"error"})}else e.request?(0,o.t6)({title:"Server Error!",message:"No response received from the server. Please try again later.",type:"error"}):(0,o.t6)({title:"Error",message:"An error occurred while setting up the request.",type:"error"});throw e};var l=n(89628);let s=r.Z.create({timeout:3e4,timeoutErrorMessage:"Network request timed out. The app could not connect to the server. Please make sure you are connected with a good network.",headers:{"Content-Type":"application/json",Accept:"application/json","ngrok-skip-browser-warning":"hello"}});s.interceptors.request.use(e=>{try{var t;let n=null===(t=i.h.getState())||void 0===t?void 0:t.userReducer,r=null==n?void 0:n.token,o=(0,l.h5)()+"/api/v1/";return e.baseURL=o,e.headers&&!e.headers.Authorization&&(e.headers.Authorization="Bearer ".concat(r)),e}catch(e){console.error("error",e)}},e=>{throw e}),s.interceptors.response.use(e=>{if([200,201].includes(e.status))return e;throw Error},e=>a(e));let u=(e,t)=>s.get(e,t).then(e=>{var t;return null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.data}),d=(e,t)=>s.get(e,t).then(e=>null==e?void 0:e.data),c=(e,t,n)=>s.post(e,t,n).then(e=>null==e?void 0:e.data),p=(e,t,n)=>s.post(e,t,{headers:{"Content-Type":"multipart/form-data"},...n}).then(e=>null==e?void 0:e.data)},90431:function(e,t,n){"use strict";n.d(t,{E:function(){return o},y:function(){return i}});var r=n(81296);let i=e=>(0,r.g_)("search-property",{...e}),o=e=>{let{message_alert:t}=e;return(0,r.g_)("message-alert",{message_alert:t})}},1985:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var r=n(57437),i=n(91653),o=n(17031),a=n(2265),l=n(69734),s=n(79301),u=n(93946),d=n(30666),c=n(15770),p=n(84276),m=n(53340),h=n(22232),v=n(84419),g=n(40525),f=n(28700),y=n(42982),x=n(5660),_=n(99655),w=n(60380),j=n(74904),b=n(82904);n(82991);var P=n(58760),C=n(89628),T=function(e){let{changeScreenType:t}=e,[n,i]=(0,a.useState)(),o=e=>{i(e)};return(0,r.jsxs)(y.Flex,{direction:"column",children:[(0,r.jsxs)(x.SimpleGrid,{cols:{base:1,sm:2,md:2},flex:1,className:"choose-userType-container",children:[(0,r.jsx)(_.Center,{children:(0,r.jsxs)(w.Box,{className:"choose-card-type ".concat("tenant"===n?"active":""),onClick:()=>o("tenant"),children:[(0,r.jsx)(j.E,{src:(0,C.h5)()+"/assets/admin/icon/tenant.png",alt:"PocketProperty - Tenant"}),(0,r.jsx)(b.Title,{order:5,className:"title",children:"Tenant"})]})}),(0,r.jsx)(_.Center,{children:(0,r.jsxs)(w.Box,{className:"choose-card-type ".concat("landlord"===n?"active":""),onClick:()=>o("landlord"),children:[(0,r.jsx)(j.E,{src:(0,C.h5)()+"/assets/admin/icon/landlord.png",alt:"PocketProperty - Landlord"}),(0,r.jsx)(b.Title,{order:5,className:"title",children:"Landlord"})]})}),(0,r.jsx)(_.Center,{children:(0,r.jsxs)(w.Box,{className:"choose-card-type ".concat("agent"===n?"active":""),onClick:()=>o("agent"),children:[(0,r.jsx)(j.E,{src:(0,C.h5)()+"/assets/admin/icon/agent.png",alt:"PocketProperty - AgencyOwner"}),(0,r.jsx)(b.Title,{order:5,className:"title",children:"Agent"})]})}),(0,r.jsx)(_.Center,{children:(0,r.jsxs)(w.Box,{className:"choose-card-type ".concat("agencyOwner"===n?"active":""),onClick:()=>o("agencyOwner"),children:[(0,r.jsx)(j.E,{src:(0,C.h5)()+"/assets/admin/icon/agency.png",alt:"PocketProperty - AgencyOwner"}),(0,r.jsx)(b.Title,{order:5,className:"title",children:"Agency Owner"})]})})]}),(0,r.jsx)(_.Center,{my:"md",children:(0,r.jsx)(P.default,{w:"100%",onClick:()=>{"tenant"===n?t("login"):window.open((0,C.h5)()+"/".concat("agencyOwner"===n?"agency":"agent"===n?"agent":"privatelandlord","/login"),"_blank")},children:"Next"})})]})},S=function(e){let{type:t,handleClose:n,isClose:y=!0}=e,[x,_]=(0,a.useState)(t),w=(e,t)=>{if(t)return n&&n();_(e)},j=(0,g.TL)();(0,a.useEffect)(()=>{j((0,f._u)(void 0)),j((0,f.HM)(!1))},[]);let[b,P]=(0,a.useState)(!1),C=e=>{switch(e){case"chooseUserType":return(0,r.jsx)(T,{changeScreenType:w});case"signup":return(0,r.jsx)(m.Z,{changeScreenType:w});case"verifyOTP":return(0,r.jsx)(v.Z,{changeScreenType:w,isClose:y});case"forgetPassword":return(0,r.jsx)(c.Z,{changeScreenType:w});case"landlordSignUp":return(0,r.jsx)(m.Z,{changeScreenType:w,type:"landLord",setIsNext:P,isNext:b});case"agentSignUp":return(0,r.jsx)(m.Z,{changeScreenType:w,type:"agent"});case"createPassword":return(0,r.jsx)(d.Z,{changeScreenType:w});case"agentLogin":return(0,r.jsx)(p.Z,{changeScreenType:w,type:"agent"});case"verificationFailed":return(0,r.jsx)(h.Z,{changeScreenType:w,isClose:y});case"profile":return(0,r.jsx)(s.Z,{changeScreenType:w,isClose:y});default:return(0,r.jsx)(p.Z,{changeScreenType:w})}};return(0,r.jsxs)(i.Group,{wrap:"nowrap",className:"inner_modal_card requirements_add_modal",children:["profile"===x?null:b?null:(0,r.jsx)(u.Z,{type:x}),"login"===x||"signup"===x||"landlordSignUp"===x||"agentSignUp"===x||"agentLogin"===x||"chooseUserType"===x?(0,r.jsxs)("div",{className:"comman_form_detail ".concat(b?"face_capture":""),children:[(0,r.jsxs)("div",{className:"modal_head_close",children:[(0,r.jsx)("h2",{children:"chooseUserType"===x?"Select who you are ":"Welcome to PocketProperty"}),(0,r.jsx)(l.Z,{handleClose:n})]}),"chooseUserType"===x?null:"landlordSignUp"===x?(0,r.jsx)("h2",{style:{marginBottom:10},children:b?"Step 2":"Sign up as a Private Landlord"}):(0,r.jsxs)("div",{className:"swich_to_form",children:[(0,r.jsx)(o.Button,{variant:"transparent",onClick:()=>w("agentSignUp"===t?"agentSignUp":"login"),className:"login"===x||"agentSignUp"===x?"active":"active_login",children:"agentSignUp"===t?"New Agent":"Login"}),(0,r.jsx)(o.Button,{variant:"transparent",onClick:()=>w("agentSignUp"===t?"agentLogin":"signup"),className:"signup"===x||"agentLogin"===x?"active":"active_login",children:"agentSignUp"===t?"Already an agent":"New Account"})]}),(0,a.cloneElement)(C(x),{handleClose:n})]}):(0,a.cloneElement)(C(x),{handleClose:n})]})}},93946:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(57437);n(2265);var i={src:"/_next/static/media/new_account.396c0630.svg",height:291,width:291,blurWidth:0,blurHeight:0},o={src:"/_next/static/media/login_amico.3bce0e84.svg",height:254,width:254,blurWidth:0,blurHeight:0},a=n(33145);let l={signup:{heading:"Hey there!",subHeading:"New to PocketProperty? Join now!",image:i},chooseUserType:{heading:"Hey there!",subHeading:"Let's get you logged in.",image:o},landlordSignUp:{heading:"Hey there!",subHeading:"New to PocketProperty? Join now!",image:i},agentSignUp:{heading:"Hey there!",subHeading:"New to PocketProperty? Join now!",image:i},login:{heading:"Welcome Back!",subHeading:"Let's get you logged in.",image:o},agentLogin:{heading:"Hey there!",subHeading:"Welcome aboard! New? Join now!",image:i},createPassword:{heading:"Secure your account",subHeading:"Create your password to proceed.",image:{src:"/_next/static/media/create_password.ff6e2843.svg",height:199,width:300,blurWidth:0,blurHeight:0}},forgetPassword:{heading:"Lost your key?",subHeading:" Let's reset your password.",image:o},verifyOTP:{heading:"One Last Step",subHeading:"For Advance Security",image:{src:"/_next/static/media/verify_otp.970952d0.svg",height:200,width:301,blurWidth:0,blurHeight:0}},verificationFailed:{heading:"Oops! Incorrect Code",subHeading:"Let's try that again.",image:{src:"/_next/static/media/verificationfailed.8b921eb5.svg",height:278,width:278,blurWidth:0,blurHeight:0}},profile:{},search:{}};var s=function(e){var t,n,i;let{type:o="signup"}=e;return(0,r.jsxs)("div",{className:"comman_form_detail_left",children:[(0,r.jsxs)("figcaption",{children:[(0,r.jsx)("h1",{children:null==l?void 0:null===(t=l[o])||void 0===t?void 0:t.heading}),(0,r.jsx)("h6",{children:null==l?void 0:null===(n=l[o])||void 0===n?void 0:n.subHeading})]}),(0,r.jsx)("div",{className:"lrft_from_icons",children:(0,r.jsx)(a.default,{src:null==l?void 0:null===(i=l[o])||void 0===i?void 0:i.image,alt:"PocketProperty"})})]})}},30666:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(57437),i=n(69734),o=n(58760),a=n(60380),l=n(77623),s=n(91653),u=n(31895),d=n(40073),c=n(44248),p=n(76772),m=n(15108),h=n(44275),v=n(15867),g=n(29827),f=n(21770),y=e=>{let{changeScreenType:t,handleClose:n}=e;(0,g.useQueryClient)();let{contextValue:r,setContextValue:i}=(0,c.b)(),{isPending:o,mutate:a}=(0,f.useMutation)({mutationFn:u.z,onSuccess:()=>{(0,p.t6)({message:"Password change successfully."}),n&&n()}}),l=(0,h.c)({initialValues:{confirm_password:"",password:"",oldPassword:""},validate:(0,v.X)("mobile"===r.otpVerificationType?m.Y7:m.A_)}),{isPending:s,mutate:y}=(0,f.useMutation)({mutationFn:d.C$,onSuccess:async e=>{try{i(t=>{var n,r,i;return{...t,profileThings:{...t.profileThings,verifytype:null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.verifytype,type:"password",new_password:null==l?void 0:null===(r=l.values)||void 0===r?void 0:r.password},otpVerificationType:"email",email:null==e?void 0:null===(i=e.data)||void 0===i?void 0:i.email,other:""}}),t("verifyOTP")}catch(e){console.log({err:e})}}});return{handleNewPassword:l.onSubmit(e=>{let{confirm_password:t,password:n,oldPassword:i}=e;if("mobile"===r.otpVerificationType){var o,l;a({confirm_password:t,password:n,user_id:r.userId,verify_token:null!==(l=null==r?void 0:null===(o=r.profileThings)||void 0===o?void 0:o.verifyToken)&&void 0!==l?l:""})}else y({confirm_password:t,new_password:n,old_password:i})}),isPending:o,form:l,contextValue:r,profileUpdateLoading:s}},x=function(e){let{changeScreenType:t,handleClose:n}=e,{handleNewPassword:u,isPending:d,form:{getInputProps:c},contextValue:{otpVerificationType:p},profileUpdateLoading:m}=y({changeScreenType:t,handleClose:n});return(0,r.jsxs)("div",{className:"wd_50_pr verify_card_sc",children:[(0,r.jsxs)("div",{className:"modal_head_close",children:[(0,r.jsx)("h2",{children:"Set your Password "}),(0,r.jsx)(i.Z,{handleClose:n})]}),(0,r.jsx)("p",{className:"verification_faild_msg",children:"Please set and confirm your new password."}),(0,r.jsxs)(a.Box,{className:"inner_hight_fm",children:[(0,r.jsxs)("div",{className:"inner_hight_fm",children:["email"===p?(0,r.jsx)(l.W,{label:"Old Password",placeholder:"*************",...c("oldPassword")}):null,(0,r.jsx)(l.W,{label:"New Password",placeholder:"*************",...c("password")}),(0,r.jsx)(l.W,{mt:"sm",label:"Confirm New Password",placeholder:"*************",...c("confirm_password")})]}),(0,r.jsx)(s.Group,{className:"foot_form",children:(0,r.jsx)(o.default,{loading:"email"===p?m:d,onClick:()=>{u()},children:"Set Password"})})]})]})}},15770:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(57437),i=n(69734),o=n(58760),a=n(60380),l=n(50028),s=n(91653);n(2265);var u=n(31895),d=n(44248),c=n(15108),p=n(44275),m=n(15867),h=n(21770),v=e=>{let{setContextValue:t,setPhone:n}=(0,d.b)(),r=(0,p.c)({initialValues:{email:""},validate:(0,m.X)(c.uR)}),{mutate:i,isPending:o}=(0,h.useMutation)({mutationFn:u.g,onSuccess:r=>{var i;e("verifyOTP"),t(e=>{var t,n;return{...e,otpType:"forgot",userId:null==r?void 0:null===(t=r.data)||void 0===t?void 0:t.id,otpVerificationType:"mobile",profileThings:{...null==e?void 0:e.profileThings,countryCode:null==r?void 0:null===(n=r.data)||void 0===n?void 0:n.country_code}}}),n(null==r?void 0:null===(i=r.data)||void 0===i?void 0:i.phone)}});return{isPending:o,forgotPasswordHandler:r.onSubmit(e=>{let{email:t}=e;i({email:t})}),form:r}},g=function(e){let{changeScreenType:t,handleClose:n}=e,{forgotPasswordHandler:u,isPending:d,form:{getInputProps:c}}=v(t);return(0,r.jsxs)("div",{className:"wd_50_pr forget_card_sc",children:[(0,r.jsxs)("div",{className:"modal_head_close",children:[(0,r.jsx)("h2",{children:"Welcome to PocketProperty"}),(0,r.jsx)(i.Z,{handleClose:n})]}),(0,r.jsxs)(a.Box,{className:"inner_hight_fm",children:[(0,r.jsx)("h4",{children:"Enter your Email ID to reset password"}),(0,r.jsx)(l.o,{label:"Email",type:"email",placeholder:"Please enter your Email ID",mt:"sm",...c("email")})]}),(0,r.jsx)(s.Group,{className:"foot_form",children:(0,r.jsx)(o.default,{loading:d,onClick:()=>u(),children:"Next"})})]})}},84276:function(e,t,n){"use strict";n.d(t,{Z:function(){return L}});var r=n(57437),i=n(22443),o=n(58760),a=n(40525),l=n(28700),s=n(91653),u=n(17031),d=n(60380),c=n(50028),p=n(77623),m=n(2289),h=n(93939),v=n(18229),g=n(21770),f=n(33145),y=n(68398),x=n.n(y),_=n(36375),w=n(73071);n(71210);var j=n(81296),b=n(90431),P=n(44248),C=n(76772),T=n(86261),S=n(15108),N=n(44275),q=n(15867),Z=n(29827),k=n(2265),E=(e,t)=>{let n=(0,Z.useQueryClient)(),[r,o]=(0,k.useState)(!1),s=(0,a.TL)(),{contextValue:u,setIsModalOpen:d}=(0,P.b)(),{isPropertySearch:c,propertySearchData:p,userDetail:m}=(0,a.CG)(e=>null==e?void 0:e.userReducer),{mutate:h,isPending:v}=(0,g.useMutation)({mutationFn:b.y,onSuccess:async e=>{try{(null==e?void 0:e.total_request)===5&&await n.invalidateQueries({queryKey:[...T.J.list]}),s((0,l._u)(void 0)),s((0,l.HM)(!1)),(0,C.t6)({message:"Your request has been submitted."}),d("thankYou")}catch(e){console.error(e)}}});(0,k.useEffect)(()=>{let e=e=>{"login-microsoft"===e.key&&(0,j.vw)("profile",{headers:{Authorization:"Bearer ".concat(null==e?void 0:e.newValue)}}).then(n=>{var r,i;s((0,l.jM)({token:null==e?void 0:e.newValue,user:n,verify_token:""})),s((0,l.Tj)(n)),t&&t(),(null==n?void 0:n.phone)&&(null==n?void 0:null===(r=n.user_employment)||void 0===r?void 0:r.emplyee_type)&&(null==n?void 0:null===(i=n.user_employment)||void 0===i?void 0:i.live_with)?(null==n?void 0:n.subscription)&&c?h({...p}):(null==n?void 0:n.subscription)||!c||d("selectPlan"):d("authModal")})};return window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}},[s]);let{setPhone:f,setContextValue:y}=(0,P.b)(),{mutate:x,isPending:_}=(0,g.useMutation)({mutationFn:i.x4,onSuccess:t=>{var n,i,o;r?(localStorage.setItem("email",null==w?void 0:null===(i=w.values)||void 0===i?void 0:i.email),localStorage.setItem("password",null==w?void 0:null===(o=w.values)||void 0===o?void 0:o.password)):(localStorage.removeItem("username"),localStorage.removeItem("password")),e("verifyOTP"),f(null==t?void 0:null===(n=t.data)||void 0===n?void 0:n.phone),y(e=>{var n;return{...e,otpType:"general",otpVerificationType:"mobile",profileThings:{...e.profileThings,countryCode:null==t?void 0:null===(n=t.data)||void 0===n?void 0:n.country_code}}})}}),w=(0,N.c)({initialValues:{email:"",password:""},validate:(0,q.X)(S.k)});(0,k.useEffect)(()=>{let e=localStorage.getItem("email"),t=localStorage.getItem("password");console.log({savedEmail:e,savedPassword:t}),e&&t&&(w.setFieldValue("email",e),w.setFieldValue("password",t),o(!0))},[]);let E=w.onSubmit(e=>{let{email:t,password:n}=e;x({email:t,password:n})});return{form:w,handleSubmit:E,isPending:_,searchMutate:h,setIsModalOpen:d,isPropertySearch:c,contextValue:u,rememberMe:r,setRememberMe:o}},M=n(89628),L=function(e){let{changeScreenType:t,handleClose:n,type:y="tenant"}=e,{form:{getInputProps:j},handleSubmit:b,isPending:P,contextValue:{propertySearchData:C},isPropertySearch:T,searchMutate:S,setIsModalOpen:N,rememberMe:q,setRememberMe:Z}=E(t,n),k=(0,a.TL)(),{mutate:L}=(0,g.useMutation)({mutationFn:i.u9,onSuccess:e=>{var t,r,i,o,a,s;k((0,l.jM)(null==e?void 0:e.data)),n&&n(),(null==e?void 0:null===(r=e.data)||void 0===r?void 0:null===(t=r.user)||void 0===t?void 0:t.phone)?(null==e?void 0:null===(o=e.data)||void 0===o?void 0:null===(i=o.user)||void 0===i?void 0:i.subscription)&&T?S({...C}):(null==e?void 0:null===(s=e.data)||void 0===s?void 0:null===(a=s.user)||void 0===a?void 0:a.subscription)||!T||N("selectPlan"):N("authModal")}}),$=(0,v.Nq)({onSuccess:e=>{L({token:null==e?void 0:e.access_token,social_type:"google"})}});return(0,r.jsxs)("div",{className:"login",children:["tenant"===y?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.Group,{className:"drt_to_login",children:[(0,r.jsxs)(u.Button,{variant:"default",onClick:()=>{$()},children:["Google ",(0,r.jsx)(f.default,{src:_.Z,alt:""})]}),(0,r.jsx)("span",{className:"or",children:"OR"}),(0,r.jsxs)(d.Box,{className:"outlook_button_click",children:[(0,r.jsx)(x(),{clientId:"a8c6942d-7f2f-4549-ba91-18492feaf998",redirectUri:(0,M.h5)()+"/api/v1/microsoft-callback",cssClass:"ms-login",btnContent:"Outlook",responseType:"token",handleLogin:e=>{}}),(0,r.jsx)(f.default,{src:w.Z,alt:""})]})]}),(0,r.jsx)("div",{className:"or_cun_with",children:(0,r.jsx)("span",{children:"Or continue with Email ID"})})]}):null,(0,r.jsxs)(d.Box,{className:"inner_fm_fill",component:"form",maw:400,mx:"auto",children:[(0,r.jsxs)(d.Box,{className:"inner_hight_fm",children:[(0,r.jsx)(c.o,{type:"email",placeholder:"Please enter your Email ID",mt:"sm",...j("email")}),"tenant"===y?(0,r.jsx)(p.W,{mt:"sm",label:"Password",placeholder:"Please enter your  Password",...j("password")}):(0,r.jsx)(c.o,{label:"Agent ID",placeholder:"Please enter your agent ID",mt:"sm",...j("email")}),"agent"===y?(0,r.jsxs)(m.r,{children:[(0,r.jsx)(m.r.Col,{span:6,children:(0,r.jsx)(p.W,{mt:"sm",label:"Password",placeholder:"Create your Password",...j("password")})}),(0,r.jsx)(m.r.Col,{span:6,children:(0,r.jsx)(p.W,{mt:"sm",label:"Confirm password",placeholder:"Please re-enter your Password",...j("confirm_password")})})]}):null,"tenant"===y?(0,r.jsxs)(s.Group,{className:"foot_checkbox",children:[(0,r.jsx)(h.X,{checked:q,label:"Remember  Me",onChange:e=>{Z(e.currentTarget.checked)}}),(0,r.jsx)(u.Button,{variant:"transparent",onClick:()=>t("forgetPassword"),children:"Forgot Password?"})]}):null]}),(0,r.jsx)(s.Group,{className:"foot_form",children:(0,r.jsx)(o.default,{loading:P,onClick:()=>{b()},children:"agent"===y?"SignUp":"Login"})})]})]})}},53340:function(e,t,n){"use strict";n.d(t,{Z:function(){return H}});var r=n(57437),i=n(2265),o=n(22443),a=n(88149),l=n(30166),s=n(15459),u=n(58760),d=n(40525),c=n(28700),p=n(89628),m=n(99655),h=n(91653),v=n(17031),g=n(60380),f=n(50028),y=n(2289),x=n(77623),_=n(18229),w=n(21770),j=n(33145),b=n(68398),P=n.n(b);n(54074);var C=n(36375),T=n(73071);n(97674);var S=n(47289),N=n(27522),q=n(81296),Z=n(90431),k=n(21039),E=n(44248),M=n(37484),L=n(76772),$=n(86261),F=n(15108),O=n(44275),A=n(15867),I=n(29827),R=n(98260),B=n.n(R),V=e=>{let{changeScreenType:t,handleClose:n,type:r,setIsNext:o,isNext:a}=e,l=(0,d.TL)(),[s,u]=(0,i.useState)(!1),p=(0,I.useQueryClient)(),{setPhone:m,setContextValue:h}=(0,E.b)(),[v,g]=(0,i.useState)(!1),[f,y]=(0,i.useState)(""),x=(0,i.useRef)(null),[_,j]=(0,i.useState)(),{mutate:b,isPending:P}=(0,w.useMutation)({mutationFn:N.z,onSuccess:(e,n)=>{let{phone:r,country_code:i}=n;t("verifyOTP"),m(r),h(e=>({...e,otpType:"register",otpVerificationType:"mobile",profileThings:{...e.profileThings,countryCode:i}}))},onError:()=>{}}),{mutate:C,isPending:T}=(0,w.useMutation)({mutationFn:S.Pd,onSuccess:(e,n)=>{var i;m(null==n?void 0:null===(i=n.data)||void 0===i?void 0:i.get("phone")),h(e=>({...e,otpVerificationType:"mobile",isLandLord:"landLord"===r})),o&&o(!1),t("verifyOTP")},onError:()=>{}}),{contextValue:R,setIsModalOpen:V}=(0,E.b)(),{isPropertySearch:D,propertySearchData:H,userDetail:U}=(0,d.CG)(e=>null==e?void 0:e.userReducer),{mutate:G,isPending:z}=(0,w.useMutation)({mutationFn:Z.y,onSuccess:async e=>{try{(null==e?void 0:e.total_request)===5&&await p.invalidateQueries({queryKey:[...$.J.list]}),l((0,c._u)(void 0)),l((0,c.HM)(!1)),(0,L.t6)({message:"Your request has been submitted."}),V("thankYou")}catch(e){console.error(e)}}});(0,i.useEffect)(()=>{let e=e=>{"login-microsoft"===e.key&&(0,q.vw)("profile",{headers:{Authorization:"Bearer ".concat(null==e?void 0:e.newValue)}}).then(t=>{l((0,c.jM)({token:null==e?void 0:e.newValue,user:t,verify_token:""})),(null==t?void 0:t.phone)?(null==t?void 0:t.subscription)&&D?G({...H}):(null==t?void 0:t.subscription)||!D||V("selectPlan"):V("authModal"),l((0,c.Tj)(t)),n&&n()})};return window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}},[l]);let W=(0,O.c)({initialValues:{name:M.Z?"John Doe":"",email:M.Z?"jhon@gmail.com":"",password:M.Z?"1234678":"",confirm_password:M.Z?"1234678":"",phone:M.Z?"1234567890":"",country:M.Z?"South Africa":""},validate:(0,A.X)("tenant"===r?F.FB:F.CB)}),J=W.onSubmit(e=>{let{confirm_password:t,email:n,name:i,password:l,phone:s,image:u,country:d}=e;if("landLord"===r){if(a){let e=new FormData;null==e||e.append("name",i),null==e||e.append("email",n),null==e||e.append("phone",s),null==e||e.append("password",l),null==e||e.append("confirm_password",t),null==e||e.append("country_code","+".concat(_)),null==e||e.append("image",u),null==e||e.append("country",d),C({data:e})}else o&&o(!0)}else"tenant"===r&&b({confirm_password:t,email:n,name:i,password:l,phone:s,country_code:"+".concat(_),country:d})});return(0,i.useEffect)(()=>{if(x.current){var e;let t=B()(x.current,{initialCountry:"za",separateDialCode:!0,utilsScript:"https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/11.0.4/js/utils.js",formatAsYouType:!0,useFullscreenPopup:!1});return j(null===(e=t.getSelectedCountryData())||void 0===e?void 0:e.dialCode),x.current.addEventListener("countrychange",()=>{var e;j(null===(e=t.getSelectedCountryData())||void 0===e?void 0:e.dialCode)}),()=>{t.destroy()}}},[]),{form:W,handleSubmit:J,isPending:P,isPhoneError:v,setIsPhoneError:g,onChange:e=>{let t=e.target.value.trim().replace(/[^0-9]/g,"");if("0"===t[0]){let e=t.slice(1,t.length);W.setFieldValue("phone",e),y((0,k.Z)(e))}else W.setFieldValue("phone",t),y((0,k.Z)(t))},value:f,inputRef:x,contextValue:R,setIsModalOpen:V,isPropertySearch:D,searchMutate:G,landLordLoading:T,livePhotoError:s,setLivePhotoError:u}};let D=(0,l.default)(()=>Promise.all([n.e(3396),n.e(5572),n.e(8998)]).then(n.bind(n,98167)).then(e=>e.LivenessQuickStartReact),{loadableGenerated:{webpack:()=>[98167]},ssr:!1,loading:()=>(0,r.jsx)(m.Center,{children:(0,r.jsx)("p",{children:"Loading camera..."})})});var H=function(e){let{changeScreenType:t,handleClose:n,type:l="tenant",setIsNext:m,isNext:b}=e,{form:{getInputProps:S,key:N,errors:q,setFieldValue:Z,values:{image:k}},handleSubmit:E,isPending:M,isPhoneError:L,setIsPhoneError:$,inputRef:F,onChange:O,value:A,contextValue:{propertySearchData:I},isPropertySearch:R,setIsModalOpen:B,searchMutate:H,landLordLoading:U,livePhotoError:G,setLivePhotoError:z}=V({changeScreenType:t,handleClose:n,type:l,setIsNext:m,isNext:b}),W=(0,d.TL)(),{mutate:J}=(0,w.useMutation)({mutationFn:o.u9,onSuccess:e=>{var t,r,i,o,a,l;W((0,c.jM)(null==e?void 0:e.data)),n&&n(),(null==e?void 0:null===(r=e.data)||void 0===r?void 0:null===(t=r.user)||void 0===t?void 0:t.phone)?(null==e?void 0:null===(o=e.data)||void 0===o?void 0:null===(i=o.user)||void 0===i?void 0:i.subscription)&&R?H({...I}):(null==e?void 0:null===(l=e.data)||void 0===l?void 0:null===(a=l.user)||void 0===a?void 0:a.subscription)||!R||B("selectPlan"):B("authModal")}}),Q=(0,_.Nq)({onSuccess:e=>{J({social_type:"google",token:null==e?void 0:e.access_token})}}),[Y,K]=(0,i.useState)(""),[X,ee]=(0,i.useState)(!0);return(0,r.jsxs)("div",{className:"signup_card_sc",children:["tenant"===l?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(h.Group,{className:"drt_to_login",children:[(0,r.jsxs)(v.Button,{variant:"default",onClick:()=>{Q()},children:["Google ",(0,r.jsx)(j.default,{src:C.Z,alt:""})]}),(0,r.jsx)("span",{className:"or",children:"OR"}),(0,r.jsxs)(g.Box,{className:"outlook_button_click",children:[(0,r.jsx)(P(),{clientId:"a8c6942d-7f2f-4549-ba91-18492feaf998",redirectUri:(0,p.h5)()+"/api/v1/microsoft-callback",cssClass:"ms-login",btnContent:"Outlook",responseType:"token",handleLogin:e=>{}}),(0,r.jsx)(j.default,{src:T.Z,alt:""})]})]}),(0,r.jsx)("div",{className:"or_cun_with",children:(0,r.jsx)("span",{children:"Or continue with Email ID"})})]}):null,(0,r.jsxs)(g.Box,{className:"inner_fm_fill",component:"form",maw:400,mx:"auto",children:[b?(0,r.jsx)(D,{onCapture:e=>{e?(Z("image",e),K("CapturedImage.png")):Z("image","")}}):(0,r.jsxs)(g.Box,{className:"inner_hight_fm",children:[(0,r.jsx)(f.o,{label:"Name",placeholder:"Please enter your Name",withAsterisk:!0,...S("name")}),(0,r.jsx)(g.Box,{mt:"8px",className:"country_dropdown",children:(0,r.jsx)(s.Z,{labelKey:"name",label:"Country",placeholder:"Select Country Name",queryFn:a.v9,...S("country"),onChange:(e,t)=>{S("country").onChange(null==t?void 0:t.label)}})}),(0,r.jsx)(f.o,{label:"Email",placeholder:"Please enter your Email ID",withAsterisk:!0,type:"email",mt:"sm",...S("email")}),(0,r.jsx)("label",{style:{marginBottom:"5px",marginTop:"10px",display:"block"},children:"Phone"}),(0,r.jsxs)("div",{className:"cuntry_input",children:[(0,r.jsx)("input",{ref:F,id:"#phone",style:{display:"none"}}),(0,r.jsx)("input",{id:"mobile_code",onChange:O,value:A,type:"text",maxLength:21})]}),(null==q?void 0:q.phone)?(0,r.jsx)("span",{className:"phone_error",children:null==q?void 0:q.phone}):null,(0,r.jsxs)(y.r,{children:[(0,r.jsx)(y.r.Col,{span:6,children:(0,i.createElement)(x.W,{mt:"sm",label:"Password",placeholder:"Create your Password",...S("password"),key:N("password")})}),(0,r.jsx)(y.r.Col,{span:6,children:(0,r.jsx)(x.W,{mt:"sm",label:"Confirm password",placeholder:"Please re-enter your Password",...S("confirm_password")},N("confirmPassword"))})]})]}),(0,r.jsx)(h.Group,{className:"foot_form",children:(0,r.jsx)(u.default,{disabled:!!b&&!k,loading:"landLord"===l?U:"tenant"===l&&M,onClick:()=>{E()},children:"landLord"!==l||b?"Sign up":"Next"})})]})]})}},22232:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var r=n(57437),i=n(69734),o=n(58760),a=n(91653),l=n(5530),s=n(35580),u=n(2874);n(67096);var d=n(2265),c=n(47289),p=n(40073),m=n(27522),h=n(73768),v=n(90431),g=n(40525),f=n(28700),y=n(44248),x=n(89628),_=n(76772),w=n(86261),j=n(15108),b=n(44275),P=n(15867),C=n(29827),T=n(21770),S=e=>{let{changeScreenType:t,handleClose:n,isClose:r}=e,i=(0,C.useQueryClient)(),{phone:o,setIsModalOpen:a,contextValue:l,setContextValue:s}=(0,y.b)(),{propertySearchData:u,otpVerificationType:S,other:N,email:q,isSearchApiCall:Z,profileThings:{countryCode:k,verifytype:E,phone:M}}=l,[L,$]=(0,d.useState)(!1),F=(0,g.TL)(),{userDetail:O,propertySearchData:A,isPropertySearch:I}=(0,g.CG)(e=>null==e?void 0:e.userReducer),{mutate:R,isPending:B}=(0,T.useMutation)({mutationFn:v.y,onSuccess:async e=>{try{(null==e?void 0:e.total_request)===5&&await i.invalidateQueries({queryKey:[...w.J.list]}),(0,_.t6)({message:"Your request has been submitted."}),a("thankYou"),n&&n()}catch(e){console.error(e)}}}),{mutate:V,isPending:D}=(0,T.useMutation)({mutationFn:m.M,onSuccess:e=>{var r,i;(null==e?void 0:null===(i=e.data)||void 0===i?void 0:null===(r=i.user)||void 0===r?void 0:r.subscription)||!Z?Z&&(R({...u}),window.dispatchEvent(new Event("new-event"))):a("selectPlan"),Z||("general"===l.otpType?n():(null==l?void 0:l.otpType)==="register"||t("createPassword")),("general"===l.otpType||"register"===l.otpType)&&F((0,f.jM)(e.data)),Z||"general"!==l.otpType&&"register"!==l.otpType||n(),"forgot"===l.otpType&&s(t=>{var n;return{...t,profileThings:{...t.profileThings,verifyToken:null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.verify_token}}})},onError:()=>{t("verificationFailed")}}),{mutate:H,isPending:U}=(0,T.useMutation)({mutationFn:c.tt,onSuccess:e=>{var t;(null===(t=e.data)||void 0===t?void 0:t.email)?(s(t=>{var n;return{...t,otpVerificationType:"email",isLandLord:!0,email:null===(n=e.data)||void 0===n?void 0:n.email}}),W.setFieldValue("otp","")):(s(e=>({...e,isLandLord:!1})),(0,_.t6)({message:"Landlord registered successfully."}),window.location.href=(0,x.h5)()+"/privatelandlord/login",n())}}),{mutate:G,isPending:z}=(0,T.useMutation)({mutationFn:p.e,onSuccess:e=>{n(),i.invalidateQueries({queryKey:[...w.J.list]}),(0,_.t6)({message:"Profile updated successfully."}),!r&&(null==O?void 0:O.subscription)&&I?R({...A}):r||(null==O?void 0:O.subscription)||!I||a("selectPlan")},onError:()=>{t("verificationFailed")}}),W=(0,b.c)({initialValues:{otp:""},validate:(0,P.X)(j.fF)}),J=W.onSubmit(e=>{let{otp:t}=e;if(null==l?void 0:l.isLandLord){"email"===S?H({otp:t,verifytype:"email",email:q}):H({otp:t,verifytype:"phone",phone:o});return}if("mobile"===l.otpVerificationType)V({otp:t,phone:o,verifytype:"general"===l.otpType||(null==l?void 0:l.otpType)==="register"?"general":"forgot"});else{let{profileThings:{name:e,phone:r,verifytype:i,countryCode:o,type:a,new_password:s,image:u}}=l,d=new FormData;if("string"!=typeof u){var n;d.append("image",u,null!==(n=null==u?void 0:u.name)&&void 0!==n?n:"")}"password"===a?d.append("new_password",null!=s?s:""):(d.append("name",e),d.append("phone",r),d.append("country_code","".concat(o.includes("+")?"":"+").concat(o))),d.append("verifytype",i),d.append("otp",t),G({data:d})}}),{isPending:Q,mutate:Y}=(0,T.useMutation)({mutationFn:h.h}),{isPending:K,mutate:X}=(0,T.useMutation)({mutationFn:h.s}),{isPending:ee,mutate:et}=(0,T.useMutation)({mutationFn:c.x3});return{form:W,handleSubmit:J,isPending:D,phone:o,contextValue:l,profileOtpLoading:z,isResend:L,setIsResend:$,resendOtp:()=>{if(null==l?void 0:l.isLandLord){"email"===S?et({verifytype:"email",email:q}):et({verifytype:"phone",phone:o});return}"mobile"===S?Y({phone:o}):X({country_code:"".concat(k.includes("+")?"":"+").concat(k),phone:M,verifytype:E})},resendLoading:Q,profileResendLoading:K,other:N,landLordResendOtpLoading:ee,landlordLoading:U}},N=n(57666),q=n(8063),Z=function(e){let{changeScreenType:t,handleClose:n,isClose:d=!0}=e,{form:{getInputProps:c,values:{otp:p}},handleSubmit:m,isPending:h,phone:v,contextValue:{otpVerificationType:g,profileThings:{countryCode:f},email:y,isLandLord:x},profileOtpLoading:_,isResend:w,setIsResend:j,profileResendLoading:b,resendLoading:P,resendOtp:C,other:T,landLordResendOtpLoading:Z,landlordLoading:k}=S({changeScreenType:t,handleClose:n,isClose:d});return(0,r.jsxs)("div",{className:"wd_50_pr verify_card_sc",children:[(0,r.jsxs)("div",{className:"modal_head_close",children:[(0,r.jsx)("h2",{children:"Code Verification Failed"}),(0,r.jsx)(i.Z,{handleClose:()=>{d&&n&&n()}})]}),(0,r.jsx)("p",{className:"verification_faild_msg",style:{color:"#F30051"},children:"Sorry, the OTP you entered is incorrect. Please try again."}),(0,r.jsxs)(a.Group,{className:"otp_sent_num",children:[(0,r.jsx)("h5",{children:"mobile"===g?"Enter the OTP sent to your WhatsApp number":"mobile"===T?"Enter the OTP sent to your WhatsApp number":"Enter OTP sent to your Email ID"}),(0,r.jsxs)("h6",{children:["Ending with"," ",(0,r.jsx)("span",{children:"mobile"===g?"".concat(f," ******").concat(v[v.length-4]).concat(v[v.length-3]).concat(v[v.length-2]).concat(v[v.length-1]):"mobile"===T?"".concat(f," ******").concat(v[v.length-4]).concat(v[v.length-3]).concat(v[v.length-2]).concat(v[v.length-1]):(0,q.o)(y)})]})]}),(0,r.jsx)(a.Group,{className:"input_ui_otp",children:(0,r.jsx)(l.E,{size:"xl",type:/^[0-9]*$/,inputType:"tel",inputMode:"numeric",...c("otp")})}),(0,r.jsx)(a.Group,{className:"foot_form",children:(0,r.jsx)(o.default,{disabled:4!==p.length,loading:x?k:"mobile"===g?h:_,onClick:()=>m(),children:"Authenticate"})}),(0,r.jsxs)(a.Group,{className:"otp_sent_seccond",children:[(0,r.jsx)("h6",{children:"Didn't receive the OTP? "}),w?(0,r.jsxs)("h6",{children:[(0,r.jsx)(s.e,{href:"javascript:;",underline:"always",onClick:()=>{j(!1),C()},children:"Click Here"}),"to Resend"]}):(x?Z:"email"===g?b:P)?(0,r.jsx)(u.a,{size:20}):(0,r.jsx)(N.Z,{onCountDownEnd:()=>{j(!0)},initialValue:60})]})]})}},84419:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var r=n(57437),i=n(69734),o=n(58760),a=n(91653),l=n(5530),s=n(35580),u=n(2874);n(67096);var d=n(2265),c=n(47289),p=n(40073),m=n(27522),h=n(73768),v=n(90431),g=n(40525),f=n(28700),y=n(44248),x=n(89628),_=n(76772),w=n(86261),j=n(15108),b=n(44275),P=n(15867),C=n(29827),T=n(21770),S=e=>{let{changeScreenType:t,handleClose:n,isClose:r}=e,i=(0,C.useQueryClient)(),{phone:o,setIsModalOpen:a,contextValue:l,setContextValue:s}=(0,y.b)(),{propertySearchData:u,isSearchApiCall:S,otpVerificationType:N,other:q,email:Z,profileThings:{countryCode:k,verifytype:E,phone:M}}=l,[L,$]=(0,d.useState)(!1),F=(0,g.TL)(),{userDetail:O,propertySearchData:A,isPropertySearch:I}=(0,g.CG)(e=>null==e?void 0:e.userReducer),{mutate:R,isPending:B}=(0,T.useMutation)({mutationFn:c.tt,onSuccess:e=>{var t;(null===(t=e.data)||void 0===t?void 0:t.email)?(s(t=>{var n;return{...t,otpVerificationType:"email",isLandLord:!0,email:null===(n=e.data)||void 0===n?void 0:n.email}}),W.setFieldValue("otp","")):(s(e=>({...e,isLandLord:!1})),(0,_.t6)({message:"Landlord registered successfully."}),window.location.href=(0,x.h5)()+"/privatelandlord/login",n())}}),{mutate:V,isPending:D}=(0,T.useMutation)({mutationFn:v.y,onSuccess:async e=>{try{(null==e?void 0:e.total_request)===5&&await i.invalidateQueries({queryKey:[...w.J.list]}),(0,_.t6)({message:"Your request has been submitted."}),a("thankYou"),n&&n()}catch(e){console.error(e)}}}),{mutate:H,isPending:U}=(0,T.useMutation)({mutationFn:m.M,onSuccess:e=>{var r,i,o,d;(null==e?void 0:null===(i=e.data)||void 0===i?void 0:null===(r=i.user)||void 0===r?void 0:r.subscription)||!S?S&&(V({...u}),window.dispatchEvent(new Event("new-event"))):a("selectPlan"),S||("general"===l.otpType?n():(null==l?void 0:l.otpType)==="register"||t("createPassword")),("general"===l.otpType||"register"===l.otpType)&&F((0,f.jM)(e.data)),S||(("general"!==l.otpType&&"register"!==l.otpType||(null==O?void 0:null===(o=O.user_employment)||void 0===o?void 0:o.live_with)||(null==O?void 0:null===(d=O.user_employment)||void 0===d?void 0:d.emplyee_type))&&a("authModal"),console.clear()),"forgot"===l.otpType&&s(t=>{var n;return{...t,profileThings:{...t.profileThings,verifyToken:null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.verify_token}}})},onError:()=>{t("verificationFailed")}}),{mutate:G,isPending:z}=(0,T.useMutation)({mutationFn:p.e,onSuccess:e=>{n(),i.invalidateQueries({queryKey:[...w.J.list]}),(0,_.t6)({message:"Profile updated successfully."}),!r&&(null==O?void 0:O.subscription)&&I?V({...A}):r||(null==O?void 0:O.subscription)||!I||a("selectPlan")},onError:()=>{t("verificationFailed")}}),W=(0,b.c)({initialValues:{otp:""},validate:(0,P.X)(j.fF)}),J=W.onSubmit(e=>{let{otp:t}=e;if(null==l?void 0:l.isLandLord){"email"===N?R({otp:t,verifytype:"email",email:Z}):R({otp:t,verifytype:"phone",phone:o});return}if("mobile"===l.otpVerificationType)H({otp:t,phone:o,verifytype:"general"===l.otpType||(null==l?void 0:l.otpType)==="register"?"general":"forgot"});else{let{profileThings:{name:e,phone:r,verifytype:i,countryCode:o,type:a,new_password:s,image:u,country:d,emplyee_type:c,live_with:p},otpVerificationType:m}=l,h=new FormData;if("string"!=typeof u){var n;h.append("image",u,null!==(n=null==u?void 0:u.name)&&void 0!==n?n:"")}"password"===a?h.append("new_password",null!=s?s:""):(h.append("phone",r),h.append("country",d),h.append("country_code","".concat(o.includes("+")?"":"+").concat(o))),h.append("verifytype",i),h.append("otp",t),h.append("name",e),c&&h.append("emplyee_type",c),p&&h.append("live_with",p),G({data:h})}}),{isPending:Q,mutate:Y}=(0,T.useMutation)({mutationFn:h.h}),{isPending:K,mutate:X}=(0,T.useMutation)({mutationFn:h.s}),{isPending:ee,mutate:et}=(0,T.useMutation)({mutationFn:c.x3});return{form:W,handleSubmit:J,isPending:U,phone:o,contextValue:l,profileOtpLoading:z,isResend:L,setIsResend:$,resendOtp:()=>{if(null==l?void 0:l.isLandLord){"email"===N?et({verifytype:"email",email:Z}):et({verifytype:"phone",phone:o});return}"mobile"===N?Y({phone:o}):X({country_code:"".concat(k.includes("+")?"":"+").concat(k),phone:M,verifytype:E})},resendLoading:Q,profileResendLoading:K,other:q,landlordLoading:B,landLordResendOtpLoading:ee}},N=n(57666),q=n(8063),Z=function(e){let{changeScreenType:t,handleClose:n,isClose:d=!0}=e,{form:{getInputProps:c,values:{otp:p}},handleSubmit:m,isPending:h,phone:v,contextValue:{otpVerificationType:g,profileThings:{countryCode:f},email:y,isLandLord:x},profileOtpLoading:_,isResend:w,setIsResend:j,resendOtp:b,profileResendLoading:P,resendLoading:C,other:T,landlordLoading:Z,landLordResendOtpLoading:k}=S({changeScreenType:t,handleClose:n,isClose:d});return(0,r.jsxs)("div",{className:"wd_50_pr verify_card_sc",children:[(0,r.jsxs)("div",{className:"modal_head_close",children:[(0,r.jsx)("h2",{children:"Two-Factor Authentication "}),(0,r.jsx)(i.Z,{handleClose:()=>{d&&n&&n()}})]}),(0,r.jsxs)(a.Group,{className:"otp_sent_num",children:[(0,r.jsx)("h5",{children:"mobile"===g?"Enter the OTP sent to your WhatsApp number":"mobile"===T?"Enter the OTP sent to your WhatsApp number":"Enter OTP sent to your Email ID"}),(0,r.jsxs)("h6",{children:["Ending with"," ",(0,r.jsx)("span",{children:"mobile"===g?"".concat(f," ******").concat(v[v.length-4]).concat(v[v.length-3]).concat(v[v.length-2]).concat(v[v.length-1]):"mobile"===T?"".concat(f," ******").concat(v[v.length-4]).concat(v[v.length-3]).concat(v[v.length-2]).concat(v[v.length-1]):(0,q.o)(y)})]})]}),(0,r.jsx)(a.Group,{className:"input_ui_otp",children:(0,r.jsx)(l.E,{size:"xl",type:/^[0-9]*$/,inputType:"tel",inputMode:"numeric",...c("otp")})}),(0,r.jsx)(a.Group,{className:"foot_form",children:(0,r.jsx)(o.default,{disabled:4!==p.length,loading:x?Z:"mobile"===g?h:_,onClick:()=>{m()},children:"Authenticate"})}),(0,r.jsxs)(a.Group,{className:"otp_sent_seccond",children:[(0,r.jsx)("h6",{children:"Haven't received OTP yet?"}),w?(0,r.jsxs)("h6",{children:[(0,r.jsx)(s.e,{href:"javascript:;",underline:"always",onClick:()=>{j(!1),b()},children:"Click Here"}),"to Resend"]}):(x?k:"email"===g?P:C)?(0,r.jsx)(u.a,{size:20}):(0,r.jsx)(N.Z,{onCountDownEnd:()=>{j(!0)},initialValue:60})]})]})}},69734:function(e,t,n){"use strict";var r=n(57437),i=n(40525),o=n(28700),a=n(44248),l=n(5659),s=n(91443);n(2265),t.Z=function(e){let{handleClose:t,isFromAdvanceFilter:n}=e,u=(0,i.TL)(),{setContextValue:d}=(0,a.b)(),c=()=>{d(e=>({...e,isSearchApiCall:!1,propertySearchData:{},advanceFeatureData:{},country_Id:0,suburbId:"",cityId:"",province_Id:"",currency:"",advanceFeatureSelectedData:[],requestAgainData:{}})),u((0,o._u)(void 0)),u((0,o.HM)(!1)),window.dispatchEvent(new Event("new-event"))};return(0,r.jsx)(l.ActionIcon,{onClick:()=>{t&&t(),n&&c()},variant:"light",className:"close_icon_here",style:{borderRadius:"50%"},children:(0,r.jsx)(s.Z,{stroke:2})})}},21039:function(e,t){"use strict";t.Z=e=>e.length<3?e:e.length<5?e.replace(/(\d{2})(\d{1})/,"$1-$2"):5===e.length?e.replace(/(\d{2})(\d{3})/,"$1-$2"):6===e.length?e.replace(/(\d{2})(\d{3})(\d{1})/,"$1-$2-$3"):7===e.length?e.replace(/(\d{2})(\d{3})(\d{2})/,"$1-$2-$3"):8===e.length?e.replace(/(\d{2})(\d{3})(\d{2})(\d{1})/,"$1-$2-$3-$4"):9===e.length?e.replace(/(\d{2})(\d{3})(\d{2})(\d{2})/,"$1-$2-$3-$4"):10===e.length?e.replace(/(\d{2})(\d{3})(\d{2})(\d{2})(\d{1})/,"$1-$2-$3-$4-$5"):11===e.length?e.replace(/(\d{2})(\d{3})(\d{2})(\d{2})(\d{2})/,"$1-$2-$3-$4-$5"):12===e.length||13===e.length?e.replace(/(\d{2})(\d{3})(\d{2})(\d{2})(\d{2})(\d{1})/,"$1-$2-$3-$4-$5-$6"):14===e.length?e.replace(/(\d{2})(\d{3})(\d{2})(\d{2})(\d{2})(\d{3})/,"$1-$2-$3-$4-$5-$6"):15===e.length?e.replace(/(\d{2})(\d{3})(\d{2})(\d{2})(\d{2})(\d{3})(\d{1})/,"$1-$2-$3-$4-$5-$6-$7"):e.replace(/(\d{2})(\d{3})(\d{2})(\d{2})(\d{2})(\d{3})(\d{2})/,"$1-$2-$3-$4-$5-$6-$7")},79301:function(e,t,n){"use strict";n.d(t,{Z:function(){return I}});var r=n(57437),i=n(58760),o=n(99655),a=n(42982),l=n(60380),s=n(6750),u=n(70588),d=n(17031),c=n(82904),p=n(2289),m=n(50028),h=n(34384),v=n(34682),g=n(77623),f=n(91653),y=n(61889),x=n(76234),_=n(14496);n(97510),n(54074);var w=n(69734);n(51902);var j=n(40073),b=n(40525),P=n(44248),C=n(76772),T=n(86261),S=n(15108),N=n(44275),q=n(15867),Z=n(29827),k=n(21770),E=n(98260),M=n.n(E),L=n(2265),$=n(21039),F=(e,t)=>{var n,r,i,o,a,l,s,u,d,c;let p=(0,Z.useQueryClient)(),{userDetail:m}=(0,b.CG)(e=>null==e?void 0:e.userReducer),{setContextValue:h,setPhone:v}=(0,P.b)(),[g,f]=(0,L.useState)(!1),[y,x]=(0,L.useState)(!0),[_,w]=(0,L.useState)(""),E=(0,L.useRef)(null),[F,O]=(0,L.useState)(null!==(i=null==m?void 0:m.country_code)&&void 0!==i?i:""),[A,I]=(0,L.useState)(null!==(o=null==m?void 0:m.phone)&&void 0!==o?o:""),{isPending:R,mutate:B}=(0,k.useMutation)({mutationFn:j.ck,onSuccess:n=>{var r;if((null==n?void 0:null===(r=n.data)||void 0===r?void 0:r.type)==="verify"){let{name:t,phone:r,logo:i}=V.values;h(e=>{var r,o,a,l,s,u,d,c;return{...e,otpVerificationType:"email",email:null!==(u=null==n?void 0:null===(r=n.data)||void 0===r?void 0:r.email)&&void 0!==u?u:"",profileThings:{...e.profileThings,image:i,name:t,phone:A,verifytype:null==n?void 0:null===(o=n.data)||void 0===o?void 0:o.verifytype,countryCode:F.includes("+")?F:"+".concat(F),type:"phone",country:null==V?void 0:null===(a=V.values)||void 0===a?void 0:a.country,emplyee_type:null!==(d=null==V?void 0:null===(l=V.values)||void 0===l?void 0:l.emplyee_type)&&void 0!==d?d:"",live_with:null!==(c=null==V?void 0:null===(s=V.values)||void 0===s?void 0:s.live_with)&&void 0!==c?c:""},other:"mobile"}}),v(A),e("verifyOTP")}else t(),p.invalidateQueries({queryKey:[...T.J.list]}),(0,C.t6)({message:"Profile updated successfully."})}}),V=(0,N.c)({initialValues:{email:null!==(a=null==m?void 0:m.email)&&void 0!==a?a:"",password:"",name:null!==(l=null==m?void 0:m.name)&&void 0!==l?l:"",logo:null!==(s=null==m?void 0:m.image)&&void 0!==s?s:"",phone:null!==(u=null==m?void 0:m.phone)&&void 0!==u?u:"",country:"",emplyee_type:null!==(d=null==m?void 0:null===(n=m.user_employment)||void 0===n?void 0:n.emplyee_type)&&void 0!==d?d:"",live_with:null!==(c=null==m?void 0:null===(r=m.user_employment)||void 0===r?void 0:r.live_with)&&void 0!==c?c:""},validate:(0,q.X)(S.nq)}),D=(0,L.useMemo)(()=>{if(null==m?void 0:m.country){var e;return{label:null!==(e=null==m?void 0:m.country)&&void 0!==e?e:"",value:null==m?void 0:m.country,id:null==m?void 0:m.country}}return null},[null==m?void 0:m.country]),H=V.onSubmit(e=>{let{email:t,name:n,password:r,phone:i}=e,o=new FormData;for(let t in o.append("country_code","".concat(F.includes("+")?"":"+").concat(F)),e)if("logo"===t){var a,l;"string"!=typeof(null==e?void 0:e.logo)&&(null==e?void 0:e.logo)&&o.append("image",null==e?void 0:e.logo,null!==(l=null==e?void 0:null===(a=e.logo)||void 0===a?void 0:a.name)&&void 0!==l?l:"")}else"password"===t?e[t]&&o.append(t,null==e?void 0:e[t]):"phone"===t?o.append(t,A):o.append(t,null==e?void 0:e[t]);B({data:o})});return(0,L.useEffect)(()=>{if(E.current){let t=M()(E.current,{initialCountry:"za",separateDialCode:!0,utilsScript:"https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/11.0.4/js/utils.js",formatAsYouType:!0,useFullscreenPopup:!1});if(F)t.setNumber(F);else{var e;O(null===(e=t.getSelectedCountryData())||void 0===e?void 0:e.dialCode)}return E.current.addEventListener("countrychange",()=>{var e;O(null===(e=t.getSelectedCountryData())||void 0===e?void 0:e.dialCode)}),()=>{t.destroy()}}},[y]),(0,L.useEffect)(()=>{(null==m?void 0:m.phone)&&w((0,$.Z)(null==m?void 0:m.phone))},[]),{userDetail:m,form:V,handleSubmit:H,isPending:R,isDisableInputs:y,onSubmit:()=>{y?x(!1):H()},isPhoneError:g,setIsPhoneError:f,setIsDisableInputs:x,setPasswordHandler:()=>{e("createPassword"),h(e=>({...e,otpVerificationType:"email"}))},onChange:e=>{let t=e.target.value.trim().replace(/[^0-9]/g,"");if("0"===t[0]){let e=t.slice(1,t.length);I(e),w((0,$.Z)(e))}else I(t),w((0,$.Z)(t))},inputRef:E,value:_,defaultCountryData:D}},O=n(15459),A=n(88149),I=function(e){let{changeScreenType:t,handleClose:n,isClose:j=!0}=e,{form:{getInputProps:b,values:{logo:P}},isDisableInputs:C,isPhoneError:T,setIsPhoneError:S,setIsDisableInputs:N,handleSubmit:q,setPasswordHandler:Z,isPending:k,inputRef:E,onChange:M,value:L,userDetail:$,defaultCountryData:I}=F(t,n),R=(0,r.jsx)(o.Center,{style:{width:"1.5rem",height:"1.5rem"},children:(0,r.jsx)(y.Z,{style:{width:"1.2rem",height:"1.2rem",color:"#f30051"}})}),B=(0,r.jsx)(o.Center,{style:{width:"1.5rem",height:"1.5rem"},children:(0,r.jsx)(x.Z,{style:{width:"1.2rem",height:"1.2rem",color:"#f30051"}})});return(0,r.jsxs)("div",{className:"profile_filter_modal",children:[j?(0,r.jsx)("div",{className:"modal_head_close",children:(0,r.jsx)(w.Z,{handleClose:()=>{j&&n&&n()}})}):null,(0,r.jsxs)("div",{className:"profile_filter_form",children:[(0,r.jsxs)(a.Flex,{direction:"column",children:[(0,r.jsxs)(l.Box,{className:"profile_card",children:[(0,r.jsxs)("div",{className:"user_profile",children:[(0,r.jsx)(s.q,{color:"cyan",radius:"xl",src:P?"string"==typeof P?P:URL.createObjectURL(P):null}),(0,r.jsx)(u.S,{accept:"image/png,image/jpeg",...b("logo"),children:e=>(0,r.jsx)(d.Button,{...e,style:{borderRadius:"50%",padding:0,width:"2.05rem",minWidth:"2.05rem",height:"2.05rem",position:"absolute",bottom:"-5px",right:"20px"},children:(0,r.jsx)(_.Z,{style:{width:"18px"}})})})]}),(0,r.jsx)("h2",{children:"Profile"})]}),(0,r.jsx)(c.Title,{order:5,ta:"center",size:"xs",mt:"-10px",mb:"lg",c:"#f30051",children:"**Having a profile picture might increase your credibility."})]}),(0,r.jsxs)(p.r,{children:[(0,r.jsx)(p.r.Col,{span:6,children:(0,r.jsx)(m.o,{label:"Name",placeholder:"Please enter name",...b("name")})}),(0,r.jsx)(p.r.Col,{span:6,children:(0,r.jsx)(m.o,{disabled:!0,label:"Email ID",placeholder:"Please enter email address",...b("email")})}),(0,r.jsxs)(p.r.Col,{span:6,children:[(0,r.jsx)("label",{className:"mantine-InputWrapper-label mantine-PasswordInput-label",style:{marginTop:"3px",display:"block"},children:"Phone No."}),(0,r.jsxs)("div",{className:"cuntry_input",children:[(0,r.jsx)("input",{ref:E,id:"#phone",style:{display:"none"}}),(0,r.jsx)("input",{id:"mobile_code",onChange:M,value:L,type:"text",maxLength:21})]}),T?(0,r.jsx)("span",{className:"phone_error",children:"Mobile number is Required"}):null]}),(0,r.jsx)(p.r.Col,{span:6,children:(0,r.jsx)(l.Box,{className:"country_dropdown",children:(0,r.jsx)(O.Z,{externalValue:I,labelKey:"name",label:"Country",placeholder:"Select Country Name",queryFn:A.v9,...b("country"),onChange:(e,t)=>{b("country").onChange(null==t?void 0:t.label)}})})}),(0,r.jsx)(p.r.Col,{span:6,children:(0,r.jsx)(h.P,{label:"Employment Status",placeholder:"Please select your employment status",leftSectionPointerEvents:"none",leftSection:R,data:[{value:"employed",label:"Employed"},{value:"contract",label:"Contract"},{value:"self_employed",label:"Self-Employed"},{value:"student",label:"Student"},{value:"retired",label:"Retired"},{value:"unemployed",label:"Unemployed"}],searchable:!0,nothingFoundMessage:"Nothing found...",comboboxProps:{transitionProps:{transition:"pop",duration:200},shadow:"md"},...b("emplyee_type")})}),(0,r.jsx)(p.r.Col,{span:6,children:(0,r.jsx)(v.Y,{leftSection:B,label:"Number of Residents",placeholder:"Please enter number of people",...b("live_with"),min:1,max:20,clampBehavior:"strict",allowNegative:!1,allowDecimal:!1})}),["google","microsoft"].includes(null==$?void 0:$.login_type)?null:(0,r.jsxs)(p.r.Col,{span:6,children:[(0,r.jsx)("input",{type:"email",style:{position:"absolute",top:"1000%"}}),(0,r.jsx)(g.W,{label:"Password",placeholder:"*************",autoComplete:"new-password",...b("password")}),(0,r.jsx)("span",{className:"set_password",style:{textAlign:"left"},onClick:()=>{Z()},children:"Change Password"})]})]}),(0,r.jsx)(f.Group,{justify:"center",mt:"xl",children:(0,r.jsx)(i.default,{loading:k,onClick:()=>{L.length>=9?(S(!1),q()):S(!0)},children:"Save"})})]})]})}},15459:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(57437),i=n(31428),o=n(2265);n(61366);var a=n(22959);let l={xs:"0.5rem",sm:"1rem",md:"1.5rem",lg:"2rem",xl:"3rem"},s=e=>"number"==typeof e?"".concat(e,"rem"):l[e]||e,u={input:()=>"mantine-Input-input mantine-Select-input",control:()=>"mantine-Input-control",menu:()=>"mantine-Select-menu",option:()=>"mantine-Select-option",placeholder:()=>"mantine-Select-label"};var d=function(e){let{queryFn:t,isMulti:n,closeMenuOnSelect:l,className:d,placeholder:c,label:p,mb:m,pb:h,pt:v,px:g,py:f,mx:y,my:x,error:_,onChange:w,externalValue:j,isDisabled:b,defaultOptions:P=!0,apiEnabled:C=!0,labelKey:T="name",filterDataLogic:S,required:N=!1,value:q}=e,[Z,k]=(0,o.useState)(n?[]:null);(0,o.useEffect)(()=>{q||k(null)},[q]);let{loadOptions:E}={loadOptions:async(e,n,r)=>{var i,o,a;if(!C)return{options:[...n]};let l=(null==r?void 0:r.page)||1,s=await (null==t?void 0:t({page:l,search:e}));return{options:(null==s?void 0:null===(i=s.data)||void 0===i?void 0:i.map(e=>{var t,r;return{id:null!==(t=null==e?void 0:e.id)&&void 0!==t?t:"".concat(n.length),value:null==e?void 0:e.id,label:null!==(r=null==e?void 0:e[T])&&void 0!==r?r:"N/A",item:e}}))||[],hasMore:(null==s?void 0:null===(o=s.meta)||void 0===o?void 0:o.total_page)>(null==s?void 0:null===(a=s.meta)||void 0===a?void 0:a.current_page),additional:{page:l+1}}}};(0,o.useEffect)(()=>{j&&(Array.isArray(j),k(j),L(j))},[j]);let M={marginBottom:s(m),paddingBottom:s(h),paddingTop:s(v),paddingLeft:s(g),paddingRight:s(g),marginTop:s(x),marginLeft:s(y),marginRight:s(y)},L=e=>{if(n&&setTimeout(()=>{var e,t;let n=null===(t=document)||void 0===t?void 0:null===(e=t.activeElement)||void 0===e?void 0:e.closest(".custom-select__value-container--has-value");n&&(n.scrollTop=n.scrollHeight)},50),k(e),w){let t=e;Array.isArray(e)?t=null==e?void 0:e.map(e=>null==e?void 0:e.value):"object"==typeof e&&(t=null==e?void 0:e.value),w(t,e)}};return(0,r.jsxs)("div",{className:"mantine-InputWrapper-root ".concat(d),style:M,children:[p&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("label",{className:"mantine-Select-label custom-label-text",children:p}),N&&(0,r.jsx)("span",{style:{color:"red"},children:" *"})]}),(0,r.jsx)(i.n9,{isDisabled:b,defaultOptions:P,value:Z,loadOptions:E,isMulti:n,closeMenuOnSelect:null!=l?!l:!n,onChange:L,classNamePrefix:"custom-select",className:"mantine-InputWrapper-root mantine-Select-root async-custom-select ".concat(d," ").concat(_?"has-error":""),placeholder:c,debounceTimeout:300,classNames:u,filterOption:S,styles:{menuPortal:e=>({...e,zIndex:9999}),menu:e=>({...e,zIndex:9999,fontFamily:"sans-serif",fontSize:"12px",borderRadius:"0px",textTransform:"capitalize",overflow:"hidden",maxHeight:200})},menuPortalTarget:document.body}),_&&(0,r.jsx)(a.default,{className:"custom-select__error-text",children:_})]})}},58760:function(e,t,n){"use strict";n.r(t);var r=n(57437),i=n(17031),o=n(60380),a=n(44347);n(2265),t.default=function(e){let{children:t,iconProps:n,iconContainerBoxProps:l,onClick:s,...u}=e;return(0,r.jsxs)(i.Button,{onClick:s,className:"btn ".concat(null==u?void 0:u.className),...u,children:[t," ",(0,r.jsx)(o.Box,{className:"icon-container",...l,children:(0,r.jsx)(a.Z,{...n,stroke:1.5})})]})}},10245:function(e,t,n){"use strict";n.r(t);var r=n(57437),i=n(2265),o=n(83547),a=n(13455);t.default=function(e){var t,n;let{modalProps:l,children:s,actionButton:u,disabled:d,className:c="comman_modal_custom",isOpen:p,onClose:m}=e,[h,{open:v,close:g}]=(0,o.q)(!1);return(0,i.useEffect)(()=>{p&&v()},[p]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.u,{...l,opened:h,onClose:()=>{g(),m&&m()},withCloseButton:null!==(t=null==l?void 0:l.withCloseButton)&&void 0!==t&&t,className:c,closeButtonProps:{},centered:null===(n=null==l?void 0:l.centered)||void 0===n||n,closeOnClickOutside:!1,children:s&&(0,i.cloneElement)(s,{handleClose:()=>{g(),m&&m()}})}),(0,r.jsx)("div",{onClick:()=>{d||v()},children:u})]})}},22959:function(e,t,n){"use strict";n.r(t);var r=n(57437),i=n(6023);n(2265),t.default=function(e){let{children:t,...n}=e;return(0,r.jsx)(i.Text,{...n,children:t})}},40525:function(e,t,n){"use strict";n.d(t,{CG:function(){return o},TL:function(){return i}});var r=n(68575);let i=r.I0.withTypes(),o=r.v9.withTypes();r.oR.withTypes()},28700:function(e,t,n){"use strict";n.d(t,{HM:function(){return l},Tj:function(){return o},_u:function(){return a},iU:function(){return s},jM:function(){return i}});let r=(0,n(20301).oM)({initialState:{token:void 0,userDetail:void 0,propertySearchData:void 0,isPropertySearch:!1,isShowMap:0},name:"user",reducers:{updateToken(e,t){var n;e.token=t.payload.token,e.userDetail=null===(n=t.payload)||void 0===n?void 0:n.user},updateUserInformation(e,t){e.userDetail=t.payload},updatePropertyInformation(e,t){e.propertySearchData=t.payload},updatePropertySearch(e,t){e.isPropertySearch=t.payload},updateIsShowMap(e,t){e.isShowMap=t.payload}}}),{updateToken:i,updateUserInformation:o,updatePropertyInformation:a,updatePropertySearch:l,updateIsShowMap:s}=r.actions;t.ZP=r.reducer},41607:function(e,t,n){"use strict";n.d(t,{h:function(){return c}});var r=n(99090),i=n(20301),o=n(9628),a=n(59688),l=n(28700);let s=(0,a.UY)({userReducer:l.ZP}),u={key:"PocketProperty",storage:r.Z},d=(e,t)=>{let n=e;if("LOGOUT"===t.type&&e){for(let[e,t]of Object.entries(n))"baseUrlReducer"===e?n[e]=t:n[e]=void 0;e=n}return s(e,t)},c=(()=>{let e=(0,o.OJ)(u,d);return(0,i.xC)({reducer:e})})();(0,o.p5)(c)},57666:function(e,t,n){"use strict";var r=n(57437),i=n(22959),o=n(2265);t.Z=e=>{let{initialValue:t=300,onCountDownEnd:n}=e,[a,l]=(0,o.useState)(t),[s,u]=(0,o.useState)(t/60-1);return(0,o.useEffect)(()=>{let e=setInterval(()=>{l(t=>(u(n=>(t<=1&&clearInterval(e),t-60*n==1)?n-1:n),t-1))},1e3);return()=>clearInterval(e)},[]),(0,o.useEffect)(()=>{1===a&&n&&n()},[a]),(0,r.jsx)(i.default,{style:{color:"gray"},children:"Resend OTP in ".concat(s<1?"":s+":").concat(a-60*s)})}},44248:function(e,t,n){"use strict";n.d(t,{GlobalContextProvider:function(){return l},b:function(){return s}});var r=n(57437),i=n(2265);let o={isLandLord:!1,otpType:"",userId:"",otpVerificationType:"",email:"",other:"",profileThings:{image:"",name:"",phone:"",verifytype:"",verifyToken:"",countryCode:"",type:""},isSearchApiCall:!1,subscriptionId:"",amount:"",property_id:"",propertySearchData:{move_in_date:null,city:"",country_name:"",end_price:"",no_of_bathroom:"",no_of_bedroom:"",property_type:"",province_name:"",start_price:"",suburb_name:""}},a=(0,i.createContext)({phone:"",setPhone:()=>"",isModalOpen:"",setIsModalOpen:()=>"",setContextValue:()=>{},contextValue:o}),l=e=>{let{children:t}=e,[n,l]=(0,i.useState)(""),[s,u]=(0,i.useState)(""),[d,c]=(0,i.useState)(o);return(0,r.jsx)(a.Provider,{value:{phone:n,setPhone:l,isModalOpen:s,setIsModalOpen:u,contextValue:d,setContextValue:c},children:t})},s=()=>(0,i.useContext)(a)},89628:function(e,t,n){"use strict";n.d(t,{Ff:function(){return o},h5:function(){return i}});var r=n(37484);t.ZP=e=>{let t=i()+"/assets/icon/";return"".concat(t).concat(e,".png")};let i=()=>r.Z?"https://staging.pocketproperty.app":window?window.location.origin:"",o=()=>r.Z?"pocket-property-staging":"pocket-property"},37484:function(e,t){"use strict";t.Z=!1},8063:function(e,t,n){"use strict";n.d(t,{o:function(){return r}});let r=e=>{let[t,n]=e.split("@");if(t.length<=2)return"****".concat(t[t.length-1],"@").concat(n);if(3===t.length)return"****".concat(t[t.length-2]).concat(t[t.length-1],"@").concat(n);if(4===t.length)return"****".concat(t[t.length-3]).concat(t[t.length-2]).concat(t[t.length-1],"@").concat(n);let r="****".concat(t[t.length-4]).concat(t[t.length-3]).concat(t[t.length-2]).concat(t[t.length-1]);return"".concat(r,"@").concat(n)}},76772:function(e,t,n){"use strict";n.d(t,{t6:function(){return l},vU:function(){return s}});var r=n(57437),i=n(72019),o=n(16393),a=n(91443);let l=e=>{let{message:t,title:n,onClose:l,onOpen:s,type:u="success",color:d,icon:c,autoClose:p=5e3,id:m}=e;return"success"===u?i.notifications.show({id:m,withCloseButton:!0,onClose:l,onOpen:s,autoClose:p,title:null!=n?n:"Success",message:t,icon:null!=c?c:(0,r.jsx)(o.Z,{size:"1rem"}),className:"my-notification-class",color:null!=d?d:"teal"}):"error"===u?i.notifications.show({id:null!=m?m:"error-notification",withCloseButton:!0,onClose:l,onOpen:s,autoClose:p,title:null!=n?n:"Error",message:t,color:null!=d?d:"red",icon:null!=c?c:(0,r.jsx)(a.Z,{}),className:"my-notification-class"}):i.notifications.show({id:null!=m?m:"loading-notification",withCloseButton:!0,onClose:l,onOpen:s,title:null!=n?n:"Loading...",message:t,color:d,icon:null!=c?c:(0,r.jsx)(a.Z,{}),className:"my-notification-class",loading:!0})},s=()=>{i.notifications.clean()}},86261:function(e,t,n){"use strict";n.d(t,{J:function(){return r}});let r={list:["profileDetail"]}},15108:function(e,t,n){"use strict";n.d(t,{AG:function(){return h},A_:function(){return p},CB:function(){return a},FB:function(){return o},VA:function(){return m},Y7:function(){return c},eq:function(){return v},fF:function(){return s},k:function(){return u},nq:function(){return l},uR:function(){return d}});var r=n(34422);let i=/^\d{8,16}$/,o=r.Ry().shape({name:r.Z_().trim().min(3,e=>{let{min:t}=e;return"Minimum length should be ".concat(t)}).matches(/^[a-zA-Z0-9 ]*$/,"Name should not contain special characters.").required("Name is required"),country:r.Z_().trim().required("Please select country"),phone:r.Z_().trim().matches(i,"Please enter valid mobile number").required("Mobile number is Required"),email:r.Z_().trim().email("Please enter valid email").required("Email address is required"),password:r.Z_().trim().min(6,e=>{let{min:t}=e;return"Password must be at least ".concat(t," characters")}).required("Password is required"),confirm_password:r.Z_().trim().oneOf([r.iH("password"),""],"Passwords must match").required("Confirm password is required")}),a=r.Ry().shape({name:r.Z_().trim().min(3,e=>{let{min:t}=e;return"Minimum length should be ".concat(t)}).matches(/^[a-zA-Z0-9 ]*$/,"Name should not contain special characters.").required("Name is required"),country:r.Z_().trim().required("Please select country"),phone:r.Z_().trim().matches(i,"Please enter valid mobile number").required("Mobile number is Required"),email:r.Z_().trim().email("Please enter valid email").required("Email address is required"),password:r.Z_().trim().min(6,e=>{let{min:t}=e;return"Password must be at least ".concat(t," characters")}).required("Password is required"),confirm_password:r.Z_().trim().oneOf([r.iH("password"),""],"Passwords must match").required("Confirm password is required")}),l=r.Ry().shape({name:r.Z_().trim().min(3,e=>{let{min:t}=e;return"Minimum length should be ".concat(t)}).matches(/^[a-zA-Z0-9 ]*$/,"Name should not contain special characters.").required("Name is required"),country:r.Z_().trim().required("Please select country"),email:r.Z_().trim().email("Please enter valid email").required("Email address is required"),emplyee_type:r.Z_().trim().required("Employee Type is required"),live_with:r.Z_().trim().matches(/^[0-9]+$/,"Live with must be a number").required("Live with is required")}),s=r.Ry().shape({otp:r.Z_().trim().min(4,e=>{let{min:t}=e;return"Password must be at least ".concat(t," characters")}).required("Otp is Required")}),u=r.Ry().shape({email:r.Z_().trim().email("Please enter valid email").required("Email address is required"),password:r.Z_().trim().min(6,e=>{let{min:t}=e;return"Password must be at least ".concat(t," characters")}).required("Password is required")}),d=r.Ry().shape({email:r.Z_().trim().email("Please enter valid email").required("Email address is required")}),c=r.Ry().shape({password:r.Z_().trim().min(6,e=>{let{min:t}=e;return"Password must be at least ".concat(t," characters")}).required("Password is required"),confirm_password:r.Z_().trim().oneOf([r.iH("password"),""],"Passwords must match").required("Confirm password is required")}),p=r.Ry().shape({oldPassword:r.Z_().trim().min(6,e=>{let{min:t}=e;return"Old Password must be at least ".concat(t," characters")}).required("Old Password is required"),password:r.Z_().trim().min(6,e=>{let{min:t}=e;return"Password must be at least ".concat(t," characters")}).required("Password is required"),confirm_password:r.Z_().trim().oneOf([r.iH("password"),""],"Passwords must match").required("Confirm password is required")}),m=r.Ry().shape({name:r.Z_().trim().min(3,e=>{let{min:t}=e;return"Minimum length should be ".concat(t)}).matches(/^[a-zA-Z0-9 ]*$/,"Name should not contain special characters.").required("Name is required"),email:r.Z_().trim().email("Please enter valid email").required("Email address is required"),subject:r.Z_().trim().min(3,e=>{let{min:t}=e;return"Minimum length should be ".concat(t)}).required("Subject is required"),message:r.Z_().trim().min(3,e=>{let{min:t}=e;return"Minimum length should be ".concat(t)}).required("Message is required")}),h=r.Ry().shape({province_name:r.Z_().trim().required("Province Name is required"),city:r.Z_().trim().required("City Name is required"),suburb_name:r.Z_().trim().required("Suburb Name is required"),property_type:r.Z_().trim().required("Property Type is required"),country_name:r.Z_().trim().required("Country Name is required"),start_price:r.Z_().typeError("Minimum Price must be a number").test("is-positive-number","Price must be greater than zero",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Number(e)>=0}).required("Minimum Price is required"),end_price:r.Z_().typeError("Maximum Price must be a number").test("is-greater","Maximum Price must be greater than Minimum Price",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",{start_price:t}=this.parent;return Number(e)>Number(t)}).required("Maximum Price is required"),no_of_bathroom:r.Z_().trim().required("No. of Bathrooms is required"),no_of_bedroom:r.Z_().trim().required("No. of Bedrooms is required")}),v=r.Ry().shape({name:r.Z_().trim().min(3,e=>{let{min:t}=e;return"Minimum length should be ".concat(t)}).matches(/^[a-zA-Z0-9 ]*$/,"Name should not contain special characters.").required("Name is required"),phone:r.Z_().trim().matches(i,"Please enter valid mobile number").required("Mobile number is Required"),email:r.Z_().trim().email("Please enter valid email").required("Email address is required"),message:r.Z_().trim().required(" Message is required")})},82991:function(){},71210:function(){},97674:function(){},67096:function(){},51902:function(){},61366:function(){},36375:function(e,t){"use strict";t.Z={src:"/_next/static/media/google_icon.05951d58.svg",height:22,width:22,blurWidth:0,blurHeight:0}},73071:function(e,t){"use strict";t.Z={src:"/_next/static/media/outlook_icon.3e7df1ab.svg",height:24,width:24,blurWidth:0,blurHeight:0}}}]);