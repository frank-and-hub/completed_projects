(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9608],{98888:function(e,t,n){Promise.resolve().then(n.bind(n,43090))},88149:function(e,t,n){"use strict";n.d(t,{Bq:function(){return c},IP:function(){return i},Qj:function(){return p},Ur:function(){return s},af:function(){return o},bm:function(){return a},sw:function(){return v},u:function(){return m},v2:function(){return l},v9:function(){return d},vz:function(){return u}});var r=n(81296);let l=e=>(0,r.J$)("property-details/".concat(e)),i=e=>{let{id:t}=e;return(0,r.J$)("internal-property-details/".concat(t))},o=e=>(0,r.g_)("set-message-schedule-time",e),a=e=>(0,r.g_)("sent-client-mail",e),s=e=>(0,r.g_)("advanced-filter",e),d=e=>{let{page:t=1,search:n}=e;return(0,r.J$)("countries",{params:{page:t,search:n}})},c=e=>{let{countryId:t,page:n,search:l}=e;return(0,r.J$)("states/".concat(t),{params:{page:n,search:l}})},u=e=>{let{provinceId:t,page:n,search:l}=e;return(0,r.J$)("cities/".concat(t),{params:{page:n,search:l}})},p=e=>{let{page:t,search:n,cityId:l}=e;return(0,r.J$)("suburbs/".concat(l),{params:{page:t,search:n}})},m=()=>(0,r.J$)("columns"),v=()=>(0,r.vw)("top-city-rent-count").then(e=>{let t={};return(null==e?void 0:e.length)&&(null==e||e.map(e=>{t={...t,[h(null==e?void 0:e.town)]:null==e?void 0:e.total}})),t}),h=e=>e?e.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,""):""},90431:function(e,t,n){"use strict";n.d(t,{E:function(){return i},y:function(){return l}});var r=n(81296);let l=e=>(0,r.g_)("search-property",{...e}),i=e=>{let{message_alert:t}=e;return(0,r.g_)("message-alert",{message_alert:t})}},57342:function(e,t,n){"use strict";n.d(t,{J5:function(){return l},R1:function(){return a},YG:function(){return i},ZH:function(){return o}});var r=n(81296);let l=e=>(0,r.g_)("subscription",{...e}),i=e=>{let{subscription_id:t}=e;return(0,r.g_)("free-plan/".concat(t))},o=()=>(0,r.g_)("transcation-history"),a=(e,t)=>(0,r.tn)("tenant_upload_contract",e,t)},69734:function(e,t,n){"use strict";var r=n(57437),l=n(40525),i=n(28700),o=n(44248),a=n(5659),s=n(91443);n(2265),t.Z=function(e){let{handleClose:t,isFromAdvanceFilter:n}=e,d=(0,l.TL)(),{setContextValue:c}=(0,o.b)(),u=()=>{c(e=>({...e,isSearchApiCall:!1,propertySearchData:{},advanceFeatureData:{},country_Id:0,suburbId:"",cityId:"",province_Id:"",currency:"",advanceFeatureSelectedData:[],requestAgainData:{}})),d((0,i._u)(void 0)),d((0,i.HM)(!1)),window.dispatchEvent(new Event("new-event"))};return(0,r.jsx)(a.ActionIcon,{onClick:()=>{t&&t(),n&&u()},variant:"light",className:"close_icon_here",style:{borderRadius:"50%"},children:(0,r.jsx)(s.Z,{stroke:2})})}},14629:function(e,t,n){"use strict";var r=n(57437);n(2265);var l=n(5660),i=n(46341),o=n(33145);t.Z=function(e){let{description:t,image:n,title:a}=e;return(0,r.jsx)("div",{className:"inner_header_pages",children:(0,r.jsx)(i.Container,{size:"lg",children:(0,r.jsxs)(l.SimpleGrid,{cols:2,spacing:"sm",verticalSpacing:"sm",children:[(0,r.jsxs)("div",{className:"property_header",children:[(0,r.jsx)("h1",{children:a}),(0,r.jsx)("p",{children:t})]}),(0,r.jsx)("div",{className:"property_header_img",children:(0,r.jsx)(o.default,{src:n,alt:"no-image"})})]})})})}},43090:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return eY}});var r=n(57437),l=n(46341),i=n(42982),o=n(2289),a=n(99655),s=n(2874),d=n(7399),c={src:"/_next/static/media/portals_img.41ff3649.svg",height:537,width:645,blurWidth:0,blurHeight:0},u=n(14629);n(33013);var p=n(37737),m=n(28107),v=n(84829),h=n(71096),x=n.n(h),f=n(2265),y=function(e){let{MoveInDate:t,Suburb:n,province_name:l,cityName:i}=e;return(0,r.jsx)("div",{children:(0,r.jsxs)(v.a,{className:"PropertyService_head_list",children:[(0,r.jsxs)(v.a.Item,{children:[(0,r.jsx)("span",{children:"Province"}),(0,r.jsx)("strong",{children:(0,m.f)(l)})]}),(0,r.jsxs)(v.a.Item,{children:[(0,r.jsx)("span",{children:"City"}),(0,r.jsx)("strong",{children:(0,m.f)(i)})]}),(0,r.jsxs)(v.a.Item,{children:[(0,r.jsx)("span",{children:"Suburb"}),(0,r.jsx)("strong",{children:(0,m.f)(n)})]}),(0,r.jsxs)(v.a.Item,{children:[(0,r.jsx)("span",{children:"Move-in date:"}),(0,r.jsx)("strong",{children:t?x()(t).format("DD/MM/YYYY"):"-"})]})]})})},g=n(58760),j=n(44248),_=n(60380),b=n(5405);n(2708);var C=e=>{let{handleClose:t}=e,{setIsModalOpen:n}=(0,j.b)();return(0,r.jsxs)("div",{className:"inner_info_modal",children:[(0,r.jsxs)("h2",{children:[(0,r.jsx)(b.Z,{stroke:1.25})," Important Information"]}),(0,r.jsx)("p",{children:"You have reached the maximum limit for raising request. Please buy a new plan to continue"}),(0,r.jsxs)(_.Box,{className:"inner_info_modal_btns",children:[(0,r.jsx)(g.default,{className:"btn_cancel",onClick:()=>{t&&t()},children:"CANCEL"}),(0,r.jsx)(g.default,{onClick:()=>{t&&t(),n("selectPlan")},children:"Continue"})]})]})},w=n(10245),D=n(22959),M=n(28700),Y=n(14157),S=n(82904),F=n(91653),N=n(89248),P=n(22330),k=n(31413),I=n(81296);let A=async e=>(0,I.J$)("property-request-all",{params:e}),T=async e=>(0,I.vw)("property-request-data/".concat(null==e?void 0:e.id),{params:e}),z=e=>(0,I.g_)("invite/accept/".concat(e,"/").concat(e)),B=e=>(0,I.g_)("invite/decline/".concat(e,"/").concat(e)),E=e=>(0,I.g_)("property-request/report/status",e);var R=n(71632),q=function(e){let{property_id:t}=e,n=["matched_properties",t];return{matchedPropertyQuery:(0,R.useQuery)({queryKey:n,queryFn:()=>T({id:t,page:"1"})}),queryKey:n}},Z=n(38065),J=n(66811),L=n(91443),U=n(25110),O=n(19217),G=n(52602),$=n(6023),H=n(57621),Q=n(17031),W=n(51955),V=n(38764);n(7666);var K=n(57342),X=n(40525),ee=n(76772),et=n(29827),en=function(e,t,n,r){let l=(0,et.useQueryClient)(),i=(0,X.CG)(e=>{var t,n;return null==e?void 0:null===(n=e.userReducer)||void 0===n?void 0:null===(t=n.userDetail)||void 0===t?void 0:t.id}),[o,a]=(0,f.useState)(null),[s,d]=(0,f.useState)(0),[c,u]=(0,f.useState)(!1),[p,m]=(0,f.useState)(!1),v=async()=>{if(!o)return;u(!0),m(!1);let a=new FormData;a.append("file",o),a.append("user_id",i),a.append("contract_id",n),a.append("admin_id",r);try{await (0,K.R1)(a,{onUploadProgress:e=>{e.total&&d(Math.round(100*e.loaded/e.total))}}),await l.invalidateQueries({queryKey:t}),m(!0),(0,ee.t6)({message:"File uploaded successfully.",type:"success"}),e&&e()}catch(e){console.error("Upload failed",e),d(0)}finally{u(!1)}};return{handleDrop:e=>{e.length>0&&(a(e[0]),d(0),m(!1))},file:o,uploadFile:v,uploading:c,progress:s,uploaded:p}};function er(e){let{handleClose:t,queryKey:n,contract_id:l,admin_id:i}=e,o=(0,G.rZ)(),a=(0,f.useRef)(null),{handleDrop:s,file:d,uploadFile:c,progress:u,uploaded:p,uploading:m}=en(t,n,l,i);return(0,r.jsxs)("div",{className:"wrapper",children:[(0,r.jsxs)(W.fh,{openRef:a,onDrop:s,className:"dropzone",radius:"md",accept:[V.LO.pdf],maxSize:10485760,multiple:!1,children:[(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),t&&t()},style:{pointerEvents:"auto"},children:(0,r.jsx)(Z.Z,{size:28,style:{position:"absolute",right:20,zIndex:99,pointerEvents:"auto"}})}),(0,r.jsxs)("div",{style:{pointerEvents:"none"},children:[(0,r.jsxs)(F.Group,{justify:"center",children:[(0,r.jsx)(W.fh.Accept,{children:(0,r.jsx)(J.Z,{size:50,color:o.colors.blue[6],stroke:1.5})}),(0,r.jsx)(W.fh.Reject,{children:(0,r.jsx)(L.Z,{size:50,color:o.colors.red[6],stroke:1.5})}),(0,r.jsx)(W.fh.Idle,{children:d?(0,r.jsx)(U.Z,{size:50}):(0,r.jsx)(O.Z,{size:50,stroke:1.5})})]}),(0,r.jsxs)($.Text,{ta:"center",fw:700,fz:"lg",mt:d?"sm":"xl",style:{wordWrap:"break-word"},lineClamp:4,children:[(0,r.jsx)(W.fh.Accept,{children:"Drop files here"}),(0,r.jsx)(W.fh.Reject,{children:"Pdf file less than 10mb"}),(0,r.jsx)(W.fh.Idle,{children:d?d.name:"Upload Contract"})]}),(0,r.jsxs)($.Text,{ta:"center",fz:"sm",mt:"xs",c:"dimmed",children:["Drag'n'drop files here to upload. We can accept only"," ",(0,r.jsx)("i",{children:".pdf"})," files that are less than 10mb in size."]})]}),(0,r.jsxs)("div",{style:{position:"absolute",width:"100%",bottom:"-2px",left:0},children:[d&&(0,r.jsx)("div",{className:"progress-upload",style:{width:"100%"},children:(0,r.jsx)(H.E,{value:u,size:"sm",mt:"xs",color:p?"green":"blue"})}),(0,r.jsx)(Q.Button,{className:"control",style:{pointerEvents:"auto"},disabled:m,size:"md",onClick:e=>{if(e.stopPropagation(),d)c();else{var t;null===(t=a.current)||void 0===t||t.call(a)}},children:m?"Uploading...":d?"Upload file":"Select file"})]})]}),(0,r.jsx)("div",{style:{height:20}})]})}var el=n(89628),ei=n(25969),eo=n(45518),ea=n(74904),es=n(30445),ed=n(60113),ec=n(93939),eu=n(83547),ep=n(83902),em=n(64683),ev=n(27648),eh=n(21770),ex=()=>{let{mutate:e,isPending:t}=(0,eh.useMutation)({mutationFn:z,onSuccess:e=>{console.log("acceptPropertyInviteApi",e)}}),{mutate:n,isPending:r}=(0,eh.useMutation)({mutationFn:B,onSuccess:e=>{console.log("declinePropertyInviteApi",e)}});return{declineInviteMutate:n,declinePending:r,acceptInviteMutate:e,acceptPending:t}},ef=function(e){var t,n,l,o,a,s;let{index:d,property:c,queryKey:u,request_id:p}=e,m=(0,et.useQueryClient)(),[v,{open:h,close:y}]=(0,eu.q)(!1),g=(0,X.CG)(e=>{var t;return null===(t=e.userReducer)||void 0===t?void 0:t.userDetail}),{generateCreditReport:j,isCreditReportAvailable:b}=(0,eo.Z)(),C=(0,f.useMemo)(()=>{var e,t,n,r,l,i;return(null==c?void 0:null===(t=c.property)||void 0===t?void 0:null===(e=t.event)||void 0===e?void 0:e.date_time)?{date:(0,ei.s2)(null==c?void 0:null===(r=c.property)||void 0===r?void 0:null===(n=r.event)||void 0===n?void 0:n.date_time),time:x()(null==c?void 0:null===(i=c.property)||void 0===i?void 0:null===(l=i.event)||void 0===l?void 0:l.date_time).format("hh:mm A")}:void 0},[c]),M=async()=>{try{var e,t,n;(0,ee.t6)({message:"Sharing credit report with property owner",type:"loading",autoClose:!1}),await E({client_id:null==c?void 0:null===(t=c.property)||void 0===t?void 0:null===(e=t.property_handle_details)||void 0===e?void 0:e.id,property_id:null==c?void 0:null===(n=c.property)||void 0===n?void 0:n.id,search_id:p,status:(null==c?void 0:c.credit_reports_status)==="approved"?"unapproved":"approved",user_id:null==g?void 0:g.id,property_type:null==c?void 0:c.details_url}),await m.invalidateQueries({queryKey:u})}catch(e){(0,ee.vU)(),(0,ee.t6)({message:"Error sharing credit report",type:"error"})}finally{(0,ee.vU)()}},{acceptInviteMutate:F,declineInviteMutate:N}=ex();return(0,r.jsxs)(ev.default,{target:"_blank",href:"/property-detail?property_id=".concat(null==c?void 0:null===(t=c.property)||void 0===t?void 0:t.id,"&updateKey=").concat(null!==(s=null==c?void 0:c.details_url)&&void 0!==s?s:"internal"),children:[(0,r.jsxs)(Y.Card,{className:"request-card-container",withBorder:!0,mb:"md",onClick:()=>{},style:{flexDirection:"column"},children:[(0,r.jsxs)(i.Flex,{wrap:"wrap",gap:"sm",children:[(0,r.jsx)(ea.E,{src:null==c?void 0:c.image,className:"property-image"}),(0,r.jsx)(_.Box,{flex:1,children:(0,r.jsxs)(i.Flex,{wrap:"wrap",gap:"sm",justify:"space-between",children:[(0,r.jsxs)(_.Box,{children:[(0,r.jsx)(S.Title,{order:5,children:null==c?void 0:c.title}),(0,r.jsx)(S.Title,{order:6,c:"dimmed",children:null==c?void 0:null===(l=c.property)||void 0===l?void 0:null===(n=l.property_handle_details)||void 0===n?void 0:n.fullName}),(0,r.jsxs)(i.Flex,{align:"center",wrap:"wrap",children:[(0,r.jsxs)(S.Title,{c:"#f30051",order:5,children:[null==c?void 0:null===(o=c.property)||void 0===o?void 0:o.currency_symbol," ",null==c?void 0:null===(a=c.property)||void 0===a?void 0:a.price,"\xa0"]}),(0,r.jsx)(D.default,{c:"dimmed",size:"xs",children:"per month"})]})]}),(0,r.jsxs)(_.Box,{children:[C&&(0,r.jsx)(es.u,{label:"Property viewing request",withArrow:!0,children:(0,r.jsx)(ed.X,{withBorder:!0,bg:(0,ei.ZP)(null==C?void 0:C.date,null==C?void 0:C.time)?"var(--mantine-color-gray-4)":"#f30051",px:"xs",py:"xs",shadow:"xs",style:{alignSelf:"baseline"},children:(0,r.jsxs)(i.Flex,{align:"center",wrap:"wrap",children:[(0,r.jsx)(_.Box,{visibleFrom:"sm",me:"xs",children:(0,r.jsx)(em.Z,{color:(0,ei.ZP)(null==C?void 0:C.date,null==C?void 0:C.time)?"var(--mantine-color-gray-6)":"#FFF",size:18})}),(0,r.jsxs)(S.Title,{order:5,size:"xs",c:(0,ei.ZP)(null==C?void 0:C.date,null==C?void 0:C.time)?"var(--mantine-color-gray-6)":"#FFF",ta:"center",children:[null==C?void 0:C.date," - ",null==C?void 0:C.time]})]})})}),(null==c?void 0:c.contract)?(0,r.jsxs)(i.Flex,{className:"contract_link-container",direction:"column",children:[(null==c?void 0:c.contract)?(0,r.jsx)(ev.default,{href:(0,el.h5)()+"/"+(null==c?void 0:c.contract),target:"_blank",onClick:e=>{e.stopPropagation()},children:(0,r.jsx)(Q.Button,{mt:"sm",w:"100%",children:(0,r.jsx)("div",{className:"contract_link",children:(0,r.jsx)("span",{children:" View Contract"})})})}):null,(null==c?void 0:c.contract_status)&&(null==c?void 0:c.contract_status)!=="rejected"&&(null==c?void 0:c.contract_status)!=="tenant_pending"?null:(0,r.jsx)(Q.Button,{onClick:e=>{e.stopPropagation(),e.preventDefault(),h()},style:{marginTop:"10px"},children:(0,r.jsx)("div",{className:"contract_link",children:(0,r.jsx)("span",{children:" Upload Contract"})})})]}):null]}),(0,r.jsxs)(_.Box,{children:[!(0,ei.ZP)(null==C?void 0:C.date,null==C?void 0:C.time)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Q.Button,{onClick:e=>{e.stopPropagation(),e.preventDefault(),ep.modals.openConfirmModal({title:"Accept Property",children:(0,r.jsx)($.Text,{size:"xs",children:"You want to accept this property?"}),labels:{confirm:"Accept",cancel:"Cancel"},onCancel:()=>console.log("Cancel"),onConfirm:()=>{var e,t;return F(null==c?void 0:null===(t=c.property)||void 0===t?void 0:null===(e=t.event)||void 0===e?void 0:e.id)},centered:!0})},className:"propertiesCardBtn",children:(0,r.jsx)("div",{className:"contract_link",children:(0,r.jsx)("span",{children:"Accept"})})}),(0,r.jsx)(Q.Button,{onClick:e=>{e.stopPropagation(),e.preventDefault(),ep.modals.openConfirmModal({title:"Decline Property",children:(0,r.jsx)($.Text,{size:"xs",children:"You want to decline this property?"}),labels:{confirm:"Decline",cancel:"Cancel"},onCancel:()=>console.log("Cancel"),centered:!0})},className:"propertiesCardBtn",children:(0,r.jsx)("div",{className:"contract_link",children:(0,r.jsx)("span",{children:" Decline"})})})]}),(0,r.jsx)(Q.Button,{onClick:e=>{e.stopPropagation(),e.preventDefault()},className:"propertiesCardBtn",children:(0,r.jsx)("div",{className:"contract_link",children:(0,r.jsx)("span",{children:"Reschedule"})})})]})]})})]}),(0,r.jsx)(ec.X,{mt:"sm",checked:(null==c?void 0:c.credit_reports_status)==="approved",onClick:async()=>{b?ep.modals.openConfirmModal({title:"Are you sure?",children:(0,r.jsx)($.Text,{size:"xs",children:(null==c?void 0:c.credit_reports_status)!=="approved"?"Would you be interested in sharing your credit report with this property owner to establish greater trust?":"Would you like to unshare your credit report with this property owner?"}),labels:{confirm:"Confirm",cancel:"Cancel"},onCancel:()=>console.log("Cancel"),onConfirm:M,centered:!0}):ep.modals.openConfirmModal({title:"Are you sure?",children:(0,r.jsx)($.Text,{size:"xs",children:"Your Credit report has not been generated yet. Please proceed to generate your credit report first."}),labels:{confirm:"Continue",cancel:"Cancel"},onCancel:()=>console.log("Cancel"),onConfirm:j,centered:!0})},label:"Share your Credit Report?"})]}),(0,r.jsx)(w.default,{actionButton:null,isOpen:v,onClose:y,children:(0,r.jsx)(er,{contract_id:null==c?void 0:c.contract_id,admin_id:null==c?void 0:c.admin_id,queryKey:u})})]})},ey=function(e){let{id:t}=e,{matchedPropertyQuery:{data:n,isLoading:l,isError:i,error:o},queryKey:d}=q({property_id:t});return l?(0,r.jsx)(a.Center,{children:(0,r.jsx)(s.a,{size:32})}):null==n?void 0:n.map((e,n)=>(0,r.jsx)(ef,{index:n,property:e,queryKey:d,request_id:t},n))},eg=function(){let{userDetail:e}=(0,X.CG)(e=>null==e?void 0:e.userReducer),t=(0,X.TL)(),{setIsModalOpen:n,setContextValue:r}=(0,j.b)();return{userDetail:e,dispatch:t,setContextValue:r}},ej=function(e){var t,n,l,a,s,d;let{index:c,item:u}=e,[v,h]=(0,f.useState)(null),{userDetail:j,dispatch:b,setContextValue:I}=eg(),{city:A,created_at:T,end_price:z,fully_furnished:B,garage:E,garden:R,move_in_date:q,no_of_bathroom:Z,no_of_bedroom:J,parking:L,pet_friendly:U,pool:O,property_type:G,start_price:$,country:H,advanced_feature:Q,province:W,suburb:V,currency:K}=u;return(0,r.jsx)(Y.Card,{className:"request-card-container",shadow:"lg",mb:"md",children:(0,r.jsxs)(o.r,{flex:1,children:[(0,r.jsx)(o.r.Col,{span:{base:12,md:1.5},children:(0,r.jsx)(_.Box,{className:"request-card-index",p:"xs",children:(0,r.jsxs)(_.Box,{children:[(0,r.jsx)(S.Title,{order:1,children:x()(T).format("DD")}),(0,r.jsx)(S.Title,{order:5,children:x()(T).format("MMM YYYY")})]})})}),(0,r.jsx)(o.r.Col,{span:{base:12,md:10.5},children:(0,r.jsxs)(_.Box,{className:"request-card-content",px:"md",children:[(0,r.jsxs)(i.Flex,{wrap:"wrap",gap:"sm",children:[(0,r.jsxs)("div",{className:"location_property",children:[(0,r.jsx)(i.Flex,{children:(0,r.jsx)(S.Title,{order:3,me:"sm",children:null==u?void 0:u.property_type})}),(0,r.jsxs)(F.Group,{gap:"0.1rem",children:[(0,r.jsx)(P.Z,{stroke:1.75}),(0,r.jsx)(D.default,{c:"dimmed",children:(0,m.f)(null==u?void 0:null===(t=u.country)||void 0===t?void 0:t.country)})]})]}),(0,r.jsxs)(i.Flex,{align:"flex-end",direction:"column",children:[(0,r.jsxs)(D.default,{size:"lg",fw:"bold",c:"#f30051",children:[null==u?void 0:null===(n=u.currency)||void 0===n?void 0:n.currency_symbol," ",null==u?void 0:u.start_price," -"," ",null==u?void 0:null===(l=u.currency)||void 0===l?void 0:l.currency_symbol," ",null==u?void 0:u.end_price]}),(0,r.jsx)(D.default,{c:"dimmed",size:"xs",children:"\xa0 per month"})]})]}),(0,r.jsx)(_.Box,{my:"xl",children:(0,r.jsx)(y,{MoveInDate:null==u?void 0:u.move_in_date,Suburb:null==u?void 0:null===(a=u.suburb)||void 0===a?void 0:a.suburb_name,province_name:null==u?void 0:null===(s=u.province)||void 0===s?void 0:s.province_name,cityName:null==u?void 0:null===(d=u.city)||void 0===d?void 0:d.city})}),(0,r.jsx)(N.U,{chevronPosition:"right",variant:"contained",mt:"md",value:v,onChange:h,children:(0,r.jsxs)(N.U.Item,{value:"item-1",children:[(0,r.jsx)(N.U.Control,{icon:(0,r.jsx)(k.Z,{}),children:(0,r.jsxs)(S.Title,{order:6,children:[null==u?void 0:u.property_count," Properties Found"]})}),(0,r.jsx)(N.U.Panel,{children:"item-1"===v&&(0,r.jsx)(ey,{id:null==u?void 0:u.id})})]})}),(0,r.jsx)(i.Flex,{align:"center",justify:"flex-end",mt:"md",children:(0,r.jsx)(w.default,{onClose:()=>{I(e=>({...e,isSearchApiCall:!1,propertySearchData:{},advanceFeatureData:{},advanceFeatureSelectedData:[],requestAgainData:{}}))},className:(null==j?void 0:j.total_request)!==5||(null==j?void 0:j.subscription)?"comman_modal_custom_next":"limite_modal_custom",actionButton:(0,r.jsx)(g.default,{onClick:()=>{((null==j?void 0:j.total_request)!==5||(null==j?void 0:j.subscription))&&I(e=>({...e,isSearchApiCall:!0,propertySearchData:{city:null==A?void 0:A.city,end_price:z,start_price:$,move_in_date:q,no_of_bathroom:Z,no_of_bedroom:J,property_type:G,province_name:null==W?void 0:W.province_name,suburb_name:null==V?void 0:V.suburb_name,country_name:null==H?void 0:H.country},cityId:null==A?void 0:A.id,province_Id:null==W?void 0:W.id,suburbId:null==V?void 0:V.id,country_Id:null==H?void 0:H.id,requestAgainData:Q,currency:null==K?void 0:K.currency_symbol})),(null==j?void 0:j.total_request)!==5||(null==j?void 0:j.subscription)||(b((0,M._u)({city:null==A?void 0:A.city,end_price:z,start_price:$,no_of_bathroom:Z,no_of_bedroom:J,property_type:G,suburb_name:null==V?void 0:V.suburb_name,province_name:null==W?void 0:W.province_name,move_in_date:q,country_name:null==H?void 0:H.country})),b((0,M.HM)(!0)))},children:"Request Again"}),children:(null==j?void 0:j.total_request)!==5||(null==j?void 0:j.subscription)?(0,r.jsx)(p.default,{isFromSearch:!0}):(0,r.jsx)(C,{})})})]})})]})})},e_=n(85951),eb=n(44275),eC=n(99376),ew=()=>{var e,t;let n=(0,eC.useRouter)(),{token:r}=(0,X.CG)(e=>null==e?void 0:e.userReducer),l=new Date,i=new Date(l);i.setDate(l.getDate()-10);let o=(0,eC.useSearchParams)(),a=null!==(e=null==o?void 0:o.get("start_date"))&&void 0!==e?e:String(x()(i).format("YYYY-MM-DD")),s=null!==(t=null==o?void 0:o.get("end_date"))&&void 0!==t?t:String(x()(l).format("YYYY-MM-DD")),d=null==o?void 0:o.get("page"),c=(0,eb.c)({initialValues:{start_date:a?new Date(a):i,end_date:s?new Date(s):l}}),{end_date:u,start_date:p}=c.values,m=[...e_.$J.list,s,a,d],{data:v,isLoading:h,isPending:y}=(0,R.useQuery)({queryKey:m,queryFn:()=>A({end_date:x()(s).format("YYYY-MM-DD"),start_date:x()(a).format("YYYY-MM-DD"),page:null!=d?d:"1"}),enabled:!!r&&!!a&&!!s});function g(e,t){let n=new Date(e);return Math.abs((new Date(t).getTime()-n.getTime())/864e5)}return(0,f.useEffect)(()=>{let e=new URLSearchParams;p&&u?(e.set("start_date",String(x()(p).format("YYYY-MM-DD"))),e.set("end_date",String(x()(u).format("YYYY-MM-DD")))):(e.set("start_date",String(x()(i).format("YYYY-MM-DD"))),e.set("end_date",String(x()(l).format("YYYY-MM-DD")))),n.push("?".concat(e.toString()))},[p,u]),{data:v,isLoading:h||y,totalDays:(0,f.useMemo)(()=>{if(p&&u){let e=g(p,u);return null!=e?e:1}{let e=g(i,l);return null!=e?e:1}},[p,u]),form:c,queryKey:m,onPageSet:e=>{let t=new URLSearchParams;t.set("start_date",String(x()(p).format("YYYY-MM-DD"))),t.set("end_date",String(x()(u).format("YYYY-MM-DD"))),t.set("page",String(e)),n.push("?".concat(t.toString()))},page:d}},eD=n(4929),eM=n(57558),eY=function(){var e,t,n,p,m;let{data:v,isLoading:h,form:{getInputProps:x,values:{start_date:y,end_date:g}},totalDays:j,queryKey:_,onPageSet:b,page:C}=ew(),w=(0,r.jsx)(eD.Z,{style:{color:"#F30051",width:18,height:18},stroke:1.5});return(0,r.jsx)(f.Suspense,{children:(0,r.jsxs)("div",{style:{background:"#f1f1f1"},children:[(0,r.jsx)(u.Z,{title:"Requests",description:"Follow your property journey.",image:c}),(0,r.jsxs)(l.Container,{className:"requests-container",size:"xl",style:{minHeight:"70vh",display:"flex",flexDirection:"column",flex:1},my:"lg",children:[(0,r.jsxs)(i.Flex,{my:"md",wrap:"wrap",gap:"md",justify:"center",align:"center",children:[(0,r.jsxs)("h6",{children:["Showing ",(0,r.jsxs)("strong",{children:[null==v?void 0:v.total_count," Properties"]})," placed in"," ",(0,r.jsxs)("strong",{children:[Math.floor(j)+1," days"]})," from"]}),(0,r.jsxs)(o.r,{ms:"md",align:"center",justify:"center",children:[(0,r.jsx)(o.r.Col,{span:{base:12,sm:5.5},children:(0,r.jsx)(eM.a,{leftSection:w,placeholder:"Select Date",maxDate:g,style:{whiteSpace:"nowrap"},valueFormat:"MMM DD, YYYY",...x("start_date")})}),(0,r.jsx)(o.r.Col,{span:{base:12,sm:1},children:(0,r.jsx)(a.Center,{children:(0,r.jsx)("strong",{children:"to"})})}),(0,r.jsx)(o.r.Col,{span:{base:12,sm:5.5},children:(0,r.jsx)(eM.a,{style:{whiteSpace:"nowrap"},valueFormat:"MMM DD, YYYY",leftSection:w,placeholder:"Select Date",minDate:y,maxDate:new Date,...x("end_date"),disabled:!y})})]})]}),h?(0,r.jsx)(a.Center,{flex:1,children:(0,r.jsx)(s.a,{size:36})}):(null==v?void 0:null===(e=v.data)||void 0===e?void 0:e.length)?(0,r.jsxs)("div",{children:[(0,r.jsx)(o.r,{children:(0,r.jsx)(o.r.Col,{span:12,style:{paddingTop:20},children:null==v?void 0:null===(t=v.data)||void 0===t?void 0:t.map((e,t)=>(0,r.jsx)(ej,{item:e,index:t},null==e?void 0:e.id))})}),(null==v?void 0:null===(n=v.meta)||void 0===n?void 0:n.total_page)===1?null:(0,r.jsx)(a.Center,{children:(0,r.jsx)(d.t,{total:null==v?void 0:null===(p=v.meta)||void 0===p?void 0:p.total_page,withEdges:!0,value:Number(null==v?void 0:null===(m=v.meta)||void 0===m?void 0:m.current_page),onChange:b})})]}):(0,r.jsx)(a.Center,{h:"30vh",style:{justifyContent:"center",alignItems:"center"},children:(0,r.jsx)("p",{style:{padding:0},children:"No data found"})})]})]})})}},15459:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(57437),l=n(31428),i=n(2265);n(61366);var o=n(22959);let a={xs:"0.5rem",sm:"1rem",md:"1.5rem",lg:"2rem",xl:"3rem"},s=e=>"number"==typeof e?"".concat(e,"rem"):a[e]||e,d={input:()=>"mantine-Input-input mantine-Select-input",control:()=>"mantine-Input-control",menu:()=>"mantine-Select-menu",option:()=>"mantine-Select-option",placeholder:()=>"mantine-Select-label"};var c=function(e){let{queryFn:t,isMulti:n,closeMenuOnSelect:a,className:c,placeholder:u,label:p,mb:m,pb:v,pt:h,px:x,py:f,mx:y,my:g,error:j,onChange:_,externalValue:b,isDisabled:C,defaultOptions:w=!0,apiEnabled:D=!0,labelKey:M="name",filterDataLogic:Y,required:S=!1,value:F}=e,[N,P]=(0,i.useState)(n?[]:null);(0,i.useEffect)(()=>{F||P(null)},[F]);let{loadOptions:k}={loadOptions:async(e,n,r)=>{var l,i,o;if(!D)return{options:[...n]};let a=(null==r?void 0:r.page)||1,s=await (null==t?void 0:t({page:a,search:e}));return{options:(null==s?void 0:null===(l=s.data)||void 0===l?void 0:l.map(e=>{var t,r;return{id:null!==(t=null==e?void 0:e.id)&&void 0!==t?t:"".concat(n.length),value:null==e?void 0:e.id,label:null!==(r=null==e?void 0:e[M])&&void 0!==r?r:"N/A",item:e}}))||[],hasMore:(null==s?void 0:null===(i=s.meta)||void 0===i?void 0:i.total_page)>(null==s?void 0:null===(o=s.meta)||void 0===o?void 0:o.current_page),additional:{page:a+1}}}};(0,i.useEffect)(()=>{b&&(Array.isArray(b),P(b),A(b))},[b]);let I={marginBottom:s(m),paddingBottom:s(v),paddingTop:s(h),paddingLeft:s(x),paddingRight:s(x),marginTop:s(g),marginLeft:s(y),marginRight:s(y)},A=e=>{if(n&&setTimeout(()=>{var e,t;let n=null===(t=document)||void 0===t?void 0:null===(e=t.activeElement)||void 0===e?void 0:e.closest(".custom-select__value-container--has-value");n&&(n.scrollTop=n.scrollHeight)},50),P(e),_){let t=e;Array.isArray(e)?t=null==e?void 0:e.map(e=>null==e?void 0:e.value):"object"==typeof e&&(t=null==e?void 0:e.value),_(t,e)}};return(0,r.jsxs)("div",{className:"mantine-InputWrapper-root ".concat(c),style:I,children:[p&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("label",{className:"mantine-Select-label custom-label-text",children:p}),S&&(0,r.jsx)("span",{style:{color:"red"},children:" *"})]}),(0,r.jsx)(l.n9,{isDisabled:C,defaultOptions:w,value:N,loadOptions:k,isMulti:n,closeMenuOnSelect:null!=a?!a:!n,onChange:A,classNamePrefix:"custom-select",className:"mantine-InputWrapper-root mantine-Select-root async-custom-select ".concat(c," ").concat(j?"has-error":""),placeholder:u,debounceTimeout:300,classNames:d,filterOption:Y,styles:{menuPortal:e=>({...e,zIndex:9999}),menu:e=>({...e,zIndex:9999,fontFamily:"sans-serif",fontSize:"12px",borderRadius:"0px",textTransform:"capitalize",overflow:"hidden",maxHeight:200})},menuPortalTarget:document.body}),j&&(0,r.jsx)(o.default,{className:"custom-select__error-text",children:j})]})}},10245:function(e,t,n){"use strict";n.r(t);var r=n(57437),l=n(2265),i=n(83547),o=n(13455);t.default=function(e){var t,n;let{modalProps:a,children:s,actionButton:d,disabled:c,className:u="comman_modal_custom",isOpen:p,onClose:m}=e,[v,{open:h,close:x}]=(0,i.q)(!1);return(0,l.useEffect)(()=>{p&&h()},[p]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.u,{...a,opened:v,onClose:()=>{x(),m&&m()},withCloseButton:null!==(t=null==a?void 0:a.withCloseButton)&&void 0!==t&&t,className:u,closeButtonProps:{},centered:null===(n=null==a?void 0:a.centered)||void 0===n||n,closeOnClickOutside:!1,children:s&&(0,l.cloneElement)(s,{handleClose:()=>{x(),m&&m()}})}),(0,r.jsx)("div",{onClick:()=>{c||h()},children:d})]})}},40525:function(e,t,n){"use strict";n.d(t,{CG:function(){return i},TL:function(){return l}});var r=n(68575);let l=r.I0.withTypes(),i=r.v9.withTypes();r.oR.withTypes()},25969:function(e,t,n){"use strict";n.d(t,{ZP:function(){return i},aF:function(){return a},s2:function(){return o}});var r=n(71096),l=n.n(r);function i(e,t){try{let n=e.replace(/(st|nd|rd|th)/,"").split(" ");if(3!==n.length)throw Error('Invalid date format. Expected format: "DDth MMMM YYYY"');let r=parseInt(n[0],10),l=n[1],i=parseInt(n[2],10),o=["January","February","March","April","May","June","July","August","September","October","November","December"].findIndex(e=>e.toLowerCase()===l.toLowerCase());if(-1===o)throw Error("Invalid month name");let a=t.match(/(\d{1,2}):(\d{2})\s*(AM|PM)/i);if(!a)throw Error('Invalid time format. Expected format: "HH:MM AM/PM"');let s=parseInt(a[1],10),d=parseInt(a[2],10),c=a[3].toUpperCase();"PM"===c&&12!==s?s+=12:"AM"===c&&12===s&&(s=0);let u=new Date(i,o,r,s,d),p=new Date;return u.getTime()<p.getTime()}catch(e){throw Error("Failed to parse date or time: ".concat(e.message))}}let o=e=>{let t=l()(e).date();return"".concat(t).concat(t%10==1&&11!==t?"st":t%10==2&&12!==t?"nd":t%10==3&&13!==t?"rd":"th"," ").concat(l()(e).format("MMMM YYYY"))},a={January:"Jan",February:"Feb",March:"Mar",April:"Apr",May:"May",June:"Jun",July:"Jul",August:"Aug",September:"Sep",October:"Oct",November:"Nov",December:"Dec"}},86261:function(e,t,n){"use strict";n.d(t,{J:function(){return r}});let r={list:["profileDetail"]}},85951:function(e,t,n){"use strict";n.d(t,{$J:function(){return l},B1:function(){return o},TR:function(){return i},X4:function(){return r}});let r={list:["transactionList"]},l={list:["matchedPropertyList"]},i={list:["propertyDetailList"]},o={list:["propertyDetailMapList"]}},45518:function(e,t,n){"use strict";var r=n(57437),l=n(2265),i=n(76772),o=n(83464),a=n(40525),s=n(89628),d=n(83902),c=n(50028),u=n(17031);t.Z=function(){var e,t;let n=(0,a.CG)(e=>{var t;return null===(t=e.userReducer)||void 0===t?void 0:t.userDetail}),p=(0,l.useMemo)(()=>{var e,t;return(null==n?void 0:null===(e=n.credit_report)||void 0===e?void 0:e.url)&&(null==n?void 0:null===(t=n.credit_report)||void 0===t?void 0:t.status)},[n]),m=(0,l.useRef)({applicant_first_name:"pocket-property-staging"!==(0,s.Ff)()?"John":null==n?void 0:null===(e=n.name)||void 0===e?void 0:e.split(" ")[0],applicant_last_name:"pocket-property-staging"!==(0,s.Ff)()?"Smith":null==n?void 0:null===(t=n.name)||void 0===t?void 0:t.split(" ").slice(1).join(" "),applicant_email_address:"pocket-property-staging"!==(0,s.Ff)()?"john.smith@example.com":null==n?void 0:n.email,applicant_mobile_number:"pocket-property-staging"!==(0,s.Ff)()?"0766542813":null==n?void 0:n.phone}),v=()=>{if(n){var e,t;m.current={applicant_first_name:"pocket-property-staging"===(0,s.Ff)()?"John":null==n?void 0:null===(e=n.name)||void 0===e?void 0:e.split(" ")[0],applicant_last_name:"pocket-property-staging"===(0,s.Ff)()?"Smith":null==n?void 0:null===(t=n.name)||void 0===t?void 0:t.split(" ").slice(1).join(" "),applicant_email_address:"pocket-property-staging"===(0,s.Ff)()?"john.smith@example.com":null==n?void 0:n.email,applicant_mobile_number:"pocket-property-staging"===(0,s.Ff)()?"0766542813":null==n?void 0:n.phone}}};(0,l.useEffect)(()=>{v()},[n]);let h=e=>{let{value:t,name:n}=null==e?void 0:e.target;m.current={...m.current,[n]:t}},x=(0,l.useCallback)(async()=>{try{(0,i.t6)({type:"loading",title:"Loading Credit Report",message:"Redirecting to Credit Report",autoClose:!1});let e=await o.Z.post("https://api.getverified.co.za/api/v1/records",{data:null==m?void 0:m.current,metadata:{}});window.location.href="https://secure.getverified.co.za/".concat((0,s.Ff)(),"/").concat(e.data.id)}catch(e){(0,i.vU)(),(0,i.t6)({type:"error",title:"Error",message:"Failed to fetch credit report"})}},[m]),f=()=>{var e,t,n,l;d.modals.open({centered:!0,title:"Get Credit Report",children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.o,{label:"First Name",placeholder:"Please enter your first name","data-autofocus":!0,mb:"sm",name:"applicant_first_name",onChange:h,defaultValue:null==m?void 0:null===(e=m.current)||void 0===e?void 0:e.applicant_first_name}),(0,r.jsx)(c.o,{label:"Last Name",placeholder:"Please enter your last name","data-autofocus":!0,mb:"sm",onChange:h,defaultValue:null==m?void 0:null===(t=m.current)||void 0===t?void 0:t.applicant_last_name,name:"applicant_last_name"}),(0,r.jsx)(c.o,{label:"Email",placeholder:"Please enter your email name",disabled:!0,"data-autofocus":!0,mb:"sm",value:null==m?void 0:null===(n=m.current)||void 0===n?void 0:n.applicant_email_address,name:"applicant_email_address"}),(0,r.jsx)(c.o,{label:"Phone Number",placeholder:"Please enter your phone numebr",disabled:!0,"data-autofocus":!0,mb:"sm",value:null==m?void 0:null===(l=m.current)||void 0===l?void 0:l.applicant_mobile_number,name:"applicant_mobile_number"}),(0,r.jsx)(u.Button,{fullWidth:!0,onClick:x,mt:"md",children:"Submit"})]}),onClose:()=>{v()}})};return{generateCreditReport:async()=>{try{var e,t,r;if((null==n?void 0:null===(e=n.credit_report)||void 0===e?void 0:e.url)&&(null==n?void 0:null===(t=n.credit_report)||void 0===t?void 0:t.status)){window.open(null==n?void 0:null===(r=n.credit_report)||void 0===r?void 0:r.url,"_blank");return}f()}catch(e){(0,i.vU)(),(0,i.t6)({type:"error",title:"Error",message:"Failed to fetch credit report"})}},isCreditReportAvailable:p}}},7666:function(){},2708:function(){},33013:function(){},61366:function(){}},function(e){e.O(0,[7425,9913,1769,5188,5501,3939,9145,6684,68,9029,941,1269,8575,4825,2972,1192,2620,6974,7737,9522,2971,2117,1744],function(){return e(e.s=98888)}),_N_E=e.O()}]);