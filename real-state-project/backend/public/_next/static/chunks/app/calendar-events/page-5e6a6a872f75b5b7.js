(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9906],{31727:function(e,t,r){Promise.resolve().then(r.bind(r,18170))},81296:function(e,t,r){"use strict";r.d(t,{vw:function(){return c},J$:function(){return u},g_:function(){return d},tn:function(){return p}});var n=r(83464),i=r(41607),o=r(76772);let l=async e=>{if(n.Z.isCancel(e))throw console.warn("Request canceled:",e.message),e;if(e.response){var t,r,l;(null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.status)===401?((0,o.t6)({title:"Session Expired!",message:"Your login session has expired. Please login again to continue.",type:"error"}),i.h.dispatch({type:"LOGOUT"})):404===e.response.status?(0,o.t6)({title:"Error",message:"Resource not found.",type:"error"}):(0,o.t6)({title:"Error",message:null==e?void 0:null===(l=e.response)||void 0===l?void 0:null===(r=l.data)||void 0===r?void 0:r.message,type:"error"})}else e.request?(0,o.t6)({title:"Server Error!",message:"No response received from the server. Please try again later.",type:"error"}):(0,o.t6)({title:"Error",message:"An error occurred while setting up the request.",type:"error"});throw e};var a=r(89628);let s=n.Z.create({timeout:3e4,timeoutErrorMessage:"Network request timed out. The app could not connect to the server. Please make sure you are connected with a good network.",headers:{"Content-Type":"application/json",Accept:"application/json","ngrok-skip-browser-warning":"hello"}});s.interceptors.request.use(e=>{try{var t;let r=null===(t=i.h.getState())||void 0===t?void 0:t.userReducer,n=null==r?void 0:r.token,o=(0,a.h5)()+"/api/v1/";return e.baseURL=o,e.headers&&!e.headers.Authorization&&(e.headers.Authorization="Bearer ".concat(n)),e}catch(e){console.error("error",e)}},e=>{throw e}),s.interceptors.response.use(e=>{if([200,201].includes(e.status))return e;throw Error},e=>l(e));let c=(e,t)=>s.get(e,t).then(e=>{var t;return null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.data}),u=(e,t)=>s.get(e,t).then(e=>null==e?void 0:e.data),d=(e,t,r)=>s.post(e,t,r).then(e=>null==e?void 0:e.data),p=(e,t,r)=>s.post(e,t,{headers:{"Content-Type":"multipart/form-data"},...r}).then(e=>null==e?void 0:e.data)},18170:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return E}});var n=r(57437);r(71257);var i=r(46341),o=r(99655),l=r(91653),a=r(2874),s=r(2289),c={src:"/_next/static/media/calender_event.077b530e.svg",height:572,width:590,blurWidth:0,blurHeight:0},u=r(14629),d=r(42982),p=r(118),v=r(82904),h=r(76846),f=r(33145),m=r(34605),g={src:"/_next/static/media/agent-user.3a68f815.png",height:200,width:200,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAA00lEQVR42gHIADf/AFV3h1Z3h1Z5iE9ufFBvflN0hU1vfklqegBYe4xZfY5VcHwyNzQoMjVIZ3VSdIVOb4AAW3+SW4CSK0FIkntre2RVADpIVXeJT3CCAF6DllR/k3dwbK+WiIZuX0JQWFN5jE9yhQBgg5dQfZOQj5HGqp2Td2lTZW9SeYxRc4cAUX+ZSnyYgIGAwaSUeWBUPF1sRHWQSXKLAIGLiLGhaMWpX8ismJN2UHxqJouCYGd3ewC1nFTLqUG9mz+5nFarjkGpii61lCOVgUUf9VaSQ9acbwAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8};r(60649);var x=r(22959),y=r(71096),w=r.n(y),j=r(28107),A=r(25969);let b={expired:{label:"Expired",color:"var(--mantine-color-red-filled)",value:"expired"},active:{label:"Active",color:"var(--mantine-color-blue-filled)",value:"active"},pending:{label:"Not Accepted Yet",color:"var(--mantine-color-yellow-filled)",value:"pending"},completed:{label:"Competed",color:"var(--mantine-color-teal-filled)",value:"completed"}};var _=function(e){var t,r,i,o,l,a,s,c;let{item:u}=e,{title:y,admin:{image:_,name:N},description:M,time:S,date:k,status:C,property:{address:E}}=u;return(0,n.jsxs)("div",{className:"card_house_event",children:[(0,n.jsx)("figure",{children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("h1",{children:[" ",null===(t=(0,A.s2)(k).split(" "))||void 0===t?void 0:t[0]," "]}),(0,n.jsxs)("h2",{children:[null===A.aF||void 0===A.aF?void 0:A.aF[null===(r=(0,A.s2)(k).split(" "))||void 0===r?void 0:r[1]]," ",null===(i=(0,A.s2)(k).split(" "))||void 0===i?void 0:i[2]]}),(0,n.jsx)(x.default,{size:"lg",fw:"bold",c:"white",children:w()(k).format("hh:mm A")})]})}),(0,n.jsxs)("figcaption",{className:"event_fig_caption",children:[(0,n.jsxs)(d.Flex,{wrap:"nowrap",children:[(0,n.jsx)("h3",{style:{flex:1},children:(0,j.f)(y)}),(null==b?void 0:null===(o=b[C])||void 0===o?void 0:o.label)?(0,n.jsx)(p.A,{checked:!1,style:{width:"auto"},styles:{label:{background:null==b?void 0:null===(l=b[C])||void 0===l?void 0:l.color,color:"#FFF"}},value:"filled",children:(0,n.jsx)(v.Title,{fw:"500",size:"sm",order:5,c:"#FFF",mb:0,children:null==b?void 0:null===(a=b[C])||void 0===a?void 0:a.label})}):null]}),(0,n.jsx)(x.default,{color:"dimmed",size:"sm",my:"xs",style:{flex:1},lineClamp:3,children:M}),(0,n.jsx)(h.i,{size:"1.5px",mb:"7px",mt:"7px"}),(0,n.jsxs)("div",{style:{marginTop:10},children:[(0,n.jsx)("div",{style:{flex:1},children:(null==u?void 0:null===(s=u.property)||void 0===s?void 0:s.complete_address)&&(0,n.jsxs)("h5",{className:"location-text",children:[(0,n.jsx)(f.default,{src:m.Z,alt:"no-image",width:20,height:20,className:"location-pin-image"}),null==u?void 0:null===(c=u.property)||void 0===c?void 0:c.complete_address]})}),(0,n.jsxs)("h6",{children:[(0,n.jsx)(f.default,{src:_||g,alt:"no-image",width:25,height:25}),(0,j.f)(N)]})]})]})]})},N=r(81296);let M=e=>{let{page:t=1,is_upcoming:r}=e;return(0,N.J$)("calendar",{params:{page:t,is_upcoming:r}})};var S=r(2868),k=r(2265),C=()=>{let[e,t]=(0,k.useState)("future"),r=(0,S.useInfiniteQuery)({queryKey:["calendarEventList",e],queryFn:t=>{let{pageParam:r}=t;return M({page:r,is_upcoming:"past"===e?0:1})},initialPageParam:1,getNextPageParam:e=>{var t,r,n;return(null==e?void 0:null===(t=e.meta)||void 0===t?void 0:t.total_page)>(null==e?void 0:null===(r=e.meta)||void 0===r?void 0:r.current_page)?(null==e?void 0:null===(n=e.meta)||void 0===n?void 0:n.current_page)+1:void 0},enabled:!!e});return{activeEvents:e,setActiveEvents:t,eventListQuery:r}},E=e=>{var t,r,d,p;let{activeEvents:v,setActiveEvents:h,eventListQuery:f}=C(),{data:m,isLoading:g,isPending:x}=f;return console.log({data:m}),(0,n.jsxs)("div",{className:"portals_sec",children:[(0,n.jsx)(u.Z,{title:"Property Viewing Schedule",description:"Keep track of all your property viewings in one place.",image:c}),(0,n.jsx)("div",{className:"portals_sec_outer_event",children:(0,n.jsxs)(i.Container,{className:"portals_sec_inner",size:"lg",children:[(0,n.jsx)(o.Center,{children:(0,n.jsxs)(l.Group,{className:"button_container",style:{flexDirection:"row-reverse"},children:[(0,n.jsx)("div",{onClick:()=>{h("past")},className:"past"===v?"active_button":"event_buttons",children:(0,n.jsx)("span",{children:"Past Events"})}),(0,n.jsx)("div",{onClick:()=>{h("future")},className:"future"===v?"active_button":"event_buttons",children:(0,n.jsx)("span",{children:"Upcoming Events"})})]})}),g||x?(0,n.jsx)(a.a,{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(50%, 0)"}}):(null==m?void 0:null===(r=m.pages)||void 0===r?void 0:null===(t=r.map(e=>null==e?void 0:e.data).flat())||void 0===t?void 0:t.length)?(0,n.jsx)(s.r,{children:(0,n.jsx)(s.r.Col,{span:12,children:null==m?void 0:null===(p=m.pages)||void 0===p?void 0:null===(d=p.map(e=>null==e?void 0:e.data).flat())||void 0===d?void 0:d.map(e=>(0,n.jsx)(_,{item:e}))})}):(0,n.jsx)("p",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, 0)",padding:0},children:"No data found"})]})})]})}},14629:function(e,t,r){"use strict";var n=r(57437);r(2265);var i=r(5660),o=r(46341),l=r(33145);t.Z=function(e){let{description:t,image:r,title:a}=e;return(0,n.jsx)("div",{className:"inner_header_pages",children:(0,n.jsx)(o.Container,{size:"lg",children:(0,n.jsxs)(i.SimpleGrid,{cols:2,spacing:"sm",verticalSpacing:"sm",children:[(0,n.jsxs)("div",{className:"property_header",children:[(0,n.jsx)("h1",{children:a}),(0,n.jsx)("p",{children:t})]}),(0,n.jsx)("div",{className:"property_header_img",children:(0,n.jsx)(l.default,{src:r,alt:"no-image"})})]})})})}},22959:function(e,t,r){"use strict";r.r(t);var n=r(57437),i=r(6023);r(2265),t.default=function(e){let{children:t,...r}=e;return(0,n.jsx)(i.Text,{...r,children:t})}},28700:function(e,t,r){"use strict";r.d(t,{HM:function(){return a},Tj:function(){return o},_u:function(){return l},iU:function(){return s},jM:function(){return i}});let n=(0,r(20301).oM)({initialState:{token:void 0,userDetail:void 0,propertySearchData:void 0,isPropertySearch:!1,isShowMap:0},name:"user",reducers:{updateToken(e,t){var r;e.token=t.payload.token,e.userDetail=null===(r=t.payload)||void 0===r?void 0:r.user},updateUserInformation(e,t){e.userDetail=t.payload},updatePropertyInformation(e,t){e.propertySearchData=t.payload},updatePropertySearch(e,t){e.isPropertySearch=t.payload},updateIsShowMap(e,t){e.isShowMap=t.payload}}}),{updateToken:i,updateUserInformation:o,updatePropertyInformation:l,updatePropertySearch:a,updateIsShowMap:s}=n.actions;t.ZP=n.reducer},41607:function(e,t,r){"use strict";r.d(t,{h:function(){return d}});var n=r(99090),i=r(20301),o=r(9628),l=r(59688),a=r(28700);let s=(0,l.UY)({userReducer:a.ZP}),c={key:"PocketProperty",storage:n.Z},u=(e,t)=>{let r=e;if("LOGOUT"===t.type&&e){for(let[e,t]of Object.entries(r))"baseUrlReducer"===e?r[e]=t:r[e]=void 0;e=r}return s(e,t)},d=(()=>{let e=(0,o.OJ)(c,u);return(0,i.xC)({reducer:e})})();(0,o.p5)(d)},28107:function(e,t,r){"use strict";function n(e){return e?e.charAt(0).toUpperCase()+e.slice(1):e}function i(e){return e.replace(/([a-z])([A-Z])/g,"$1 $2")}r.d(t,{H:function(){return i},f:function(){return n}})},89628:function(e,t,r){"use strict";r.d(t,{Ff:function(){return o},h5:function(){return i}});var n=r(37484);t.ZP=e=>{let t=i()+"/assets/icon/";return"".concat(t).concat(e,".png")};let i=()=>n.Z?"https://staging.pocketproperty.app":window?window.location.origin:"",o=()=>n.Z?"pocket-property-staging":"pocket-property"},37484:function(e,t){"use strict";t.Z=!1},25969:function(e,t,r){"use strict";r.d(t,{ZP:function(){return o},aF:function(){return a},s2:function(){return l}});var n=r(71096),i=r.n(n);function o(e,t){try{let r=e.replace(/(st|nd|rd|th)/,"").split(" ");if(3!==r.length)throw Error('Invalid date format. Expected format: "DDth MMMM YYYY"');let n=parseInt(r[0],10),i=r[1],o=parseInt(r[2],10),l=["January","February","March","April","May","June","July","August","September","October","November","December"].findIndex(e=>e.toLowerCase()===i.toLowerCase());if(-1===l)throw Error("Invalid month name");let a=t.match(/(\d{1,2}):(\d{2})\s*(AM|PM)/i);if(!a)throw Error('Invalid time format. Expected format: "HH:MM AM/PM"');let s=parseInt(a[1],10),c=parseInt(a[2],10),u=a[3].toUpperCase();"PM"===u&&12!==s?s+=12:"AM"===u&&12===s&&(s=0);let d=new Date(o,l,n,s,c),p=new Date;return d.getTime()<p.getTime()}catch(e){throw Error("Failed to parse date or time: ".concat(e.message))}}let l=e=>{let t=i()(e).date();return"".concat(t).concat(t%10==1&&11!==t?"st":t%10==2&&12!==t?"nd":t%10==3&&13!==t?"rd":"th"," ").concat(i()(e).format("MMMM YYYY"))},a={January:"Jan",February:"Feb",March:"Mar",April:"Apr",May:"May",June:"Jun",July:"Jul",August:"Aug",September:"Sep",October:"Oct",November:"Nov",December:"Dec"}},76772:function(e,t,r){"use strict";r.d(t,{t6:function(){return a},vU:function(){return s}});var n=r(57437),i=r(72019),o=r(16393),l=r(91443);let a=e=>{let{message:t,title:r,onClose:a,onOpen:s,type:c="success",color:u,icon:d,autoClose:p=5e3,id:v}=e;return"success"===c?i.notifications.show({id:v,withCloseButton:!0,onClose:a,onOpen:s,autoClose:p,title:null!=r?r:"Success",message:t,icon:null!=d?d:(0,n.jsx)(o.Z,{size:"1rem"}),className:"my-notification-class",color:null!=u?u:"teal"}):"error"===c?i.notifications.show({id:null!=v?v:"error-notification",withCloseButton:!0,onClose:a,onOpen:s,autoClose:p,title:null!=r?r:"Error",message:t,color:null!=u?u:"red",icon:null!=d?d:(0,n.jsx)(l.Z,{}),className:"my-notification-class"}):i.notifications.show({id:null!=v?v:"loading-notification",withCloseButton:!0,onClose:a,onOpen:s,title:null!=r?r:"Loading...",message:t,color:u,icon:null!=d?d:(0,n.jsx)(l.Z,{}),className:"my-notification-class",loading:!0})},s=()=>{i.notifications.clean()}},60649:function(){},71257:function(){},34605:function(e,t){"use strict";t.Z={src:"/_next/static/media/locationIconYellow.c372f397.svg",height:50,width:39,blurWidth:0,blurHeight:0}}},function(e){e.O(0,[959,3939,9145,6684,941,681,2971,2117,1744],function(){return e(e.s=31727)}),_N_E=e.O()}]);